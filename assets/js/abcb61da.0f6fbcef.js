"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[3380],{3668:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});var i=s(7624),l=s(2172);const r={title:"Field Projection",sidebar_label:"Field Projection",sidebar_position:3,description:"Selecting specific fields with $select for optimized responses"},c="Field Projection",t={id:"products/map.q01.io/core-api-platform-v4/query-patterns/field-projection",title:"Field Projection",description:"Selecting specific fields with $select for optimized responses",source:"@site/docs/products/map.q01.io/core-api-platform-v4/03-query-patterns/field-projection.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/03-query-patterns",slug:"/products/map.q01.io/core-api-platform-v4/query-patterns/field-projection",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-projection",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Field Projection",sidebar_label:"Field Projection",sidebar_position:3,description:"Selecting specific fields with $select for optimized responses"},sidebar:"mapSidebar",previous:{title:"Complex Filters",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/complex-filters"},next:{title:"Filtering",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/filtering"}},d={},o=[{value:"Overview",id:"overview",level:2},{value:"Basic Field Selection",id:"basic-field-selection",level:2},{value:"Select Specific Fields",id:"select-specific-fields",level:3},{value:"Always Include Primary Key",id:"always-include-primary-key",level:3},{value:"Performance Impact",id:"performance-impact",level:2},{value:"Response Size Comparison",id:"response-size-comparison",level:3},{value:"Database Performance",id:"database-performance",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"List Views",id:"list-views",level:3},{value:"Autocomplete/Search",id:"autocompletesearch",level:3},{value:"Data Export",id:"data-export",level:3},{value:"Mobile Apps",id:"mobile-apps",level:3},{value:"Combining with Other Parameters",id:"combining-with-other-parameters",level:2},{value:"Field Selection + Filter",id:"field-selection--filter",level:3},{value:"Field Selection + Sort",id:"field-selection--sort",level:3},{value:"Field Selection + Pagination",id:"field-selection--pagination",level:3},{value:"Complete Query",id:"complete-query",level:3},{value:"Field Visibility and COD_ON_OFF",id:"field-visibility-and-cod_on_off",level:2},{value:"$select Respects COD_ON_OFF",id:"select-respects-cod_on_off",level:3},{value:"peso Filtering",id:"peso-filtering",level:3},{value:"JavaScript Implementation",id:"javascript-implementation",level:2},{value:"Simple Field Selector",id:"simple-field-selector",level:3},{value:"Dynamic Field Selection",id:"dynamic-field-selection",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Selecting Hidden Fields",id:"mistake-1-selecting-hidden-fields",level:3},{value:"Mistake 2: Sorting by Non-Selected Field",id:"mistake-2-sorting-by-non-selected-field",level:3},{value:"Mistake 3: Spaces in $select",id:"mistake-3-spaces-in-select",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"field-projection",children:"Field Projection"}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Field projection"})," uses the ",(0,i.jsx)(n.code,{children:"$select"})," parameter to specify exactly which fields to return in the response. This is one of the most important performance optimizations available in Core APIs."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reduces response size (faster network transfer)"}),"\n",(0,i.jsx)(n.li,{children:"Reduces database I/O (fewer columns read)"}),"\n",(0,i.jsx)(n.li,{children:"Reduces JSON serialization overhead"}),"\n",(0,i.jsx)(n.li,{children:"Improves client-side rendering performance"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"basic-field-selection",children:"Basic Field Selection"}),"\n",(0,i.jsx)(n.h3,{id:"select-specific-fields",children:"Select Specific Fields"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request only ID, name, and price:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Without $select (default - all visible fields):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "PRD_ID": 123,\n      "XPRD01": "Widget Pro",\n      "XPRD02": 49.99,\n      "XPRD03": "PRD-2025-001",\n      "XPRD04": "Long description...",\n      "XPRD05": "Electronics",\n      "XPRD06": true,\n      "XPRD30": false,\n      "XPRD36": 2.5,\n      // ... 40+ more fields\n      "OWNER": "user123",\n      "CDATA": "20251201143000",\n      "LDATA": "20251215093000",\n      "TREC": "N"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"With $select (only 3 fields):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "PRD_ID": 123,\n      "XPRD01": "Widget Pro",\n      "XPRD02": 49.99\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response size reduction:"})," ~95% smaller (50 fields \u2192 3 fields)."]}),"\n",(0,i.jsx)(n.h3,{id:"always-include-primary-key",children:"Always Include Primary Key"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Best practice:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - includes primary key\n$select=PRD_ID,XPRD01,XPRD02\n\n# \u274c Problematic - missing primary key\n$select=XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why primary key matters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Detail view navigation: ",(0,i.jsx)(n.code,{children:"GET /api/v4/core/PRD/{PRD_ID}"})]}),"\n",(0,i.jsxs)(n.li,{children:["Update operations: ",(0,i.jsx)(n.code,{children:"PUT /api/v4/core/PRD/{PRD_ID}"})]}),"\n",(0,i.jsxs)(n.li,{children:["Delete operations: ",(0,i.jsx)(n.code,{children:"DELETE /api/v4/core/PRD/{PRD_ID}"})]}),"\n",(0,i.jsx)(n.li,{children:"Client-side state management (React keys, Vue refs)"}),"\n",(0,i.jsx)(n.li,{children:"Avoiding duplicate records in UI"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,i.jsx)(n.h3,{id:"response-size-comparison",children:"Response Size Comparison"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Scenario:"})," Product list with 100 records"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fields Selected"}),(0,i.jsx)(n.th,{children:"Response Size"}),(0,i.jsx)(n.th,{children:"Transfer Time (3G)"}),(0,i.jsx)(n.th,{children:"Transfer Time (4G)"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"All (50 fields)"}),(0,i.jsx)(n.td,{children:"~500 KB"}),(0,i.jsx)(n.td,{children:"~2.5 seconds"}),(0,i.jsx)(n.td,{children:"~0.8 seconds"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"10 fields"}),(0,i.jsx)(n.td,{children:"~100 KB"}),(0,i.jsx)(n.td,{children:"~0.5 seconds"}),(0,i.jsx)(n.td,{children:"~0.15 seconds"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"3 fields"}),(0,i.jsx)(n.td,{children:"~30 KB"}),(0,i.jsx)(n.td,{children:"~0.15 seconds"}),(0,i.jsx)(n.td,{children:"~0.05 seconds"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Impact:"})," 10x-17x faster response with field projection."]}),"\n",(0,i.jsx)(n.h3,{id:"database-performance",children:"Database Performance"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Without $select:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM TB_ANAG_PRD00\nWHERE ...\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reads 50+ columns from disk"}),"\n",(0,i.jsx)(n.li,{children:"Loads unnecessary data into memory"}),"\n",(0,i.jsx)(n.li,{children:"Increases I/O wait time"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"With $select:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT PRD_ID, XPRD01, XPRD02 FROM TB_ANAG_PRD00\nWHERE ...\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reads only 3 columns from disk"}),"\n",(0,i.jsx)(n.li,{children:"Minimal memory usage"}),"\n",(0,i.jsx)(n.li,{children:"Faster query execution"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,i.jsx)(n.h3,{id:"list-views",children:"List Views"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Product grid - show only essentials:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $select=PRD_ID,XPRD01,XPRD02,XPRD12&\\\n  $num_rows=25\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," Perfect for rendering product cards with name, price, image."]}),"\n",(0,i.jsx)(n.h3,{id:"autocompletesearch",children:"Autocomplete/Search"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type-ahead search - minimal data:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productSearch&\\\n  $filter=startwith(XPRD01,'Wid')&\\\n  $select=PRD_ID,XPRD01&\\\n  $num_rows=10\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," Only ID and name for fast autocomplete."]}),"\n",(0,i.jsx)(n.h3,{id:"data-export",children:"Data Export"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"CSV export - select export columns:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/export/PRD?source=productExport&\\\n  $select=XPRD03,XPRD01,XPRD02,XPRD05&\\\n  $order=XPRD03 ASC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response:"})," Only fields needed in CSV (code, name, price, category)."]}),"\n",(0,i.jsx)(n.h3,{id:"mobile-apps",children:"Mobile Apps"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Minimize bandwidth for mobile:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=mobileProductList&\\\n  $select=PRD_ID,XPRD01,XPRD02,XPRD37&\\\n  $num_rows=20\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why:"})," Mobile networks slower + data caps make field projection critical."]}),"\n",(0,i.jsx)(n.h2,{id:"combining-with-other-parameters",children:"Combining with Other Parameters"}),"\n",(0,i.jsx)(n.h3,{id:"field-selection--filter",children:"Field Selection + Filter"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD06 eq true&\\\n  $select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.h3,{id:"field-selection--sort",children:"Field Selection + Sort"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $select=PRD_ID,XPRD01,XPRD02&\\\n  $order=XPRD02 DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," You can sort by fields NOT in $select."]}),"\n",(0,i.jsx)(n.h3,{id:"field-selection--pagination",children:"Field Selection + Pagination"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $select=PRD_ID,XPRD01,XPRD02&\\\n  $num_rows=25&\\\n  $offset=50\n"})}),"\n",(0,i.jsx)(n.h3,{id:"complete-query",children:"Complete Query"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD05 eq 'Electronics' AND XPRD06 eq true&\\\n  $select=PRD_ID,XPRD01,XPRD02,XPRD03&\\\n  $order=XPRD02 DESC&\\\n  $num_rows=25&\\\n  $offset=0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"field-visibility-and-cod_on_off",children:"Field Visibility and COD_ON_OFF"}),"\n",(0,i.jsx)(n.h3,{id:"select-respects-cod_on_off",children:"$select Respects COD_ON_OFF"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," You can only select fields visible in the current context."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Context: center_dett=visualizza (list view)\nGET /api/v4/core/PRD?source=productList&\\\n  center_dett=visualizza&\\\n  $select=PRD_ID,XPRD01,XPRD38\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"If XPRD38 has COD_ON_OFF='D' (detail only):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "PRD_ID": 123,\n      "XPRD01": "Widget Pro"\n      // XPRD38 not included (no \'L\' flag)\n    }\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Field silently omitted"})," - no error, just excluded."]}),"\n",(0,i.jsx)(n.h3,{id:"peso-filtering",children:"peso Filtering"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields filtered by peso (COD_UTENTE):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $select=PRD_ID,XPRD01,XPRD_COST\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"If XPRD_COST requires peso >= 50 and user has peso = 30:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "PRD_ID": 123,\n      "XPRD01": "Widget Pro"\n      // XPRD_COST excluded (peso insufficient)\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"javascript-implementation",children:"JavaScript Implementation"}),"\n",(0,i.jsx)(n.h3,{id:"simple-field-selector",children:"Simple Field Selector"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"class QueryBuilder {\n  constructor(dimension, source) {\n    this.dimension = dimension;\n    this.source = source;\n    this.fields = [];\n    this.filters = [];\n  }\n\n  select(...fields) {\n    this.fields = fields;\n    return this;\n  }\n\n  filter(condition) {\n    this.filters.push(condition);\n    return this;\n  }\n\n  buildUrl(apiBase) {\n    const url = new URL(`${apiBase}/api/v4/core/${this.dimension}`);\n    url.searchParams.append('source', this.source);\n\n    if (this.fields.length) {\n      url.searchParams.append('$select', this.fields.join(','));\n    }\n\n    if (this.filters.length) {\n      url.searchParams.append('$filter', this.filters.join(' AND '));\n    }\n\n    return url;\n  }\n}\n\n// Usage\nconst query = new QueryBuilder('PRD', 'productList')\n  .select('PRD_ID', 'XPRD01', 'XPRD02')\n  .filter('XPRD06 eq true')\n  .buildUrl(apiBase);\n\nconst response = await fetch(query, {\n  headers: { 'Authorization': `Bearer ${token}` }\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dynamic-field-selection",children:"Dynamic Field Selection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"function buildProductListQuery(options = {}) {\n  const baseFields = ['PRD_ID', 'XPRD01']; // Always include ID and name\n\n  const fields = [...baseFields];\n\n  // Add optional fields based on view type\n  if (options.showPrice) {\n    fields.push('XPRD02');\n  }\n\n  if (options.showImage) {\n    fields.push('XPRD12');\n  }\n\n  if (options.showCategory) {\n    fields.push('XPRD05');\n  }\n\n  if (options.showStock) {\n    fields.push('XPRD09');\n  }\n\n  const url = new URL(`${apiBase}/api/v4/core/PRD`);\n  url.searchParams.append('source', 'productList');\n  url.searchParams.append('$select', fields.join(','));\n\n  return url;\n}\n\n// Usage\nconst listViewUrl = buildProductListQuery({\n  showPrice: true,\n  showImage: true\n});\n// $select=PRD_ID,XPRD01,XPRD02,XPRD12\n\nconst minimalUrl = buildProductListQuery({});\n// $select=PRD_ID,XPRD01\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Always use $select for list views:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good\n$select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Include primary key:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good\n$select=PRD_ID,XPRD01\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Select only what you render:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// \u2705 Good - rendering name and price\n$select=PRD_ID,XPRD01,XPRD02\n\n// \u274c Bad - fetching description you don't use\n$select=PRD_ID,XPRD01,XPRD02,XPRD04\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use narrow selections for mobile:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good for mobile\n$select=PRD_ID,XPRD01,XPRD37\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't fetch all fields by default:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - 500KB response\nGET /api/v4/core/PRD?source=productList\n\n# \u2705 Good - 30KB response\nGET /api/v4/core/PRD?source=productList&$select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't select fields you don't use:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - fetching 20 fields but only displaying 3\n$select=PRD_ID,XPRD01,XPRD02,...,XPRD20\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't forget primary key:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - can't navigate to detail\n$select=XPRD01,XPRD02\n\n# \u2705 Good\n$select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,i.jsx)(n.h3,{id:"mistake-1-selecting-hidden-fields",children:"Mistake 1: Selecting Hidden Fields"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# \u274c Won\'t work - TIMESTAMP has COD_ON_OFF=\'X\' (hidden)\n$select=PRD_ID,XPRD01,TIMESTAMP\n\n# Response: { "PRD_ID": 123, "XPRD01": "Widget" }\n# TIMESTAMP silently excluded\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mistake-2-sorting-by-non-selected-field",children:"Mistake 2: Sorting by Non-Selected Field"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"This is valid:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Valid - can sort by field not in $select\n$select=PRD_ID,XPRD01&$order=XPRD02 DESC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {"PRD_ID": 456, "XPRD01": "Premium Widget"},\n    {"PRD_ID": 123, "XPRD01": "Standard Widget"}\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sorted by XPRD02 but XPRD02 not included in response."}),"\n",(0,i.jsx)(n.h3,{id:"mistake-3-spaces-in-select",children:"Mistake 3: Spaces in $select"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Wrong - spaces not allowed\n$select=PRD_ID, XPRD01, XPRD02\n\n# \u2705 Correct - no spaces\n$select=PRD_ID,XPRD01,XPRD02\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.p,{children:["Field projection with ",(0,i.jsx)(n.code,{children:"$select"})," is essential for performance:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Reduces response size by 80-95%"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Speeds up database queries"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Critical for mobile apps and slow networks"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Improves client-side rendering"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Respects COD_ON_OFF and peso filtering"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Always use ",(0,i.jsx)(n.code,{children:"$select"})," for list views"]}),"\n",(0,i.jsx)(n.li,{children:"Include primary key in selection"}),"\n",(0,i.jsx)(n.li,{children:"Select only fields you render"}),"\n",(0,i.jsx)(n.li,{children:"Combine with pagination for best performance"}),"\n",(0,i.jsx)(n.li,{children:"Especially important for mobile apps"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination",children:"Pagination \u2192"})," to learn efficient data pagination."]}),"\n",(0,i.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/basic-queries",children:"Basic Queries"})," - Query fundamentals"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/field-visibility",children:"Field Visibility"})," - COD_ON_OFF bitmask"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/query-performance",children:"Query Performance"})," - Performance optimization"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},2172:(e,n,s)=>{s.d(n,{I:()=>t,M:()=>c});var i=s(1504);const l={},r=i.createContext(l);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);