"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[6184],{5784:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var r=s(7624),i=s(2172);const t={title:"FAQ (Frequently Asked Questions)",sidebar_label:"FAQ",sidebar_position:8,description:"Frequently asked questions about Q01 Core APIs - general questions, authentication, data operations, performance, and troubleshooting"},a="FAQ (Frequently Asked Questions)",o={id:"products/map.q01.io/core-api-platform-v4/reference/faq",title:"FAQ (Frequently Asked Questions)",description:"Frequently asked questions about Q01 Core APIs - general questions, authentication, data operations, performance, and troubleshooting",source:"@site/docs/products/map.q01.io/core-api-platform-v4/08-reference/faq.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/08-reference",slug:"/products/map.q01.io/core-api-platform-v4/reference/faq",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/faq",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"FAQ (Frequently Asked Questions)",sidebar_label:"FAQ",sidebar_position:8,description:"Frequently asked questions about Q01 Core APIs - general questions, authentication, data operations, performance, and troubleshooting"},sidebar:"mapSidebar",previous:{title:"Glossary",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/glossary"},next:{title:"Quick Reference",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/quick-reference"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"General Questions",id:"general-questions",level:2},{value:"What is Q01 Core API?",id:"what-is-q01-core-api",level:3},{value:"How does the metadata-driven approach work?",id:"how-does-the-metadata-driven-approach-work",level:3},{value:"What&#39;s the difference between CoreService, CoreQuery, and CoreWrite?",id:"whats-the-difference-between-coreservice-corequery-and-corewrite",level:3},{value:"How do I get started with Core APIs?",id:"how-do-i-get-started-with-core-apis",level:3},{value:"Authentication &amp; Authorization",id:"authentication--authorization",level:2},{value:"How do JWT tokens work?",id:"how-do-jwt-tokens-work",level:3},{value:"How do I refresh expired tokens?",id:"how-do-i-refresh-expired-tokens",level:3},{value:"What are grants and how do I check them?",id:"what-are-grants-and-how-do-i-check-them",level:3},{value:"How does tenant isolation work?",id:"how-does-tenant-isolation-work",level:3},{value:"Data Operations",id:"data-operations",level:2},{value:"How do I filter records?",id:"how-do-i-filter-records",level:3},{value:"What&#39;s the difference between PUT and PATCH?",id:"whats-the-difference-between-put-and-patch",level:3},{value:"How do I soft delete vs force delete?",id:"how-do-i-soft-delete-vs-force-delete",level:3},{value:"How do cascade operations work?",id:"how-do-cascade-operations-work",level:3},{value:"Performance &amp; Optimization",id:"performance--optimization",level:2},{value:"How do I optimize slow queries?",id:"how-do-i-optimize-slow-queries",level:3},{value:"What caching strategies should I use?",id:"what-caching-strategies-should-i-use",level:3},{value:"How do I implement pagination correctly?",id:"how-do-i-implement-pagination-correctly",level:3},{value:"How do I prevent N+1 query problems?",id:"how-do-i-prevent-n1-query-problems",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Why am I getting 401 Unauthorized?",id:"why-am-i-getting-401-unauthorized",level:3},{value:"Why am I getting 403 Forbidden?",id:"why-am-i-getting-403-forbidden",level:3},{value:"Why are some fields not visible?",id:"why-are-some-fields-not-visible",level:3},{value:"Why are OUTBOX events delayed?",id:"why-are-outbox-events-delayed",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Sections",id:"related-sections",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"faq-frequently-asked-questions",children:"FAQ (Frequently Asked Questions)"}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Common questions and answers about Q01 Core APIs, organized by topic."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"general-questions",children:"General Questions"}),"\n",(0,r.jsx)(n.h3,{id:"what-is-q01-core-api",children:"What is Q01 Core API?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Q01 Core APIs are metadata-driven REST APIs providing unified access to business data across the Q01 platform. They implement the MAP (Metadata Application Platform) framework for schema-less, runtime-configurable data access."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Metadata-driven (no code changes for schema evolution)"}),"\n",(0,r.jsx)(n.li,{children:"Multi-tenant data isolation"}),"\n",(0,r.jsx)(n.li,{children:"Field-level visibility control (COD_ON_OFF)"}),"\n",(0,r.jsx)(n.li,{children:"CQRS architecture (separate read/write services)"}),"\n",(0,r.jsx)(n.li,{children:"Event sourcing via OUTBOX pattern"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/introduction/",children:"Introduction"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/",children:"Core Concepts"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-does-the-metadata-driven-approach-work",children:"How does the metadata-driven approach work?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Instead of hardcoding database schemas in application code, Q01 stores all schema information in metadata tables (TB_DIM, TB_VAR, TB_COST, TB_MENU, TB_OBJECT). The API reads this metadata at runtime to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Determine which fields exist"}),"\n",(0,r.jsx)(n.li,{children:"Validate field types and constraints"}),"\n",(0,r.jsx)(n.li,{children:"Control field visibility (COD_ON_OFF)"}),"\n",(0,r.jsx)(n.li,{children:"Execute cascades"}),"\n",(0,r.jsx)(n.li,{children:"Apply permissions"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add fields without deploying code"}),"\n",(0,r.jsx)(n.li,{children:"Change field visibility per operation"}),"\n",(0,r.jsx)(n.li,{children:"Configure validations via metadata"}),"\n",(0,r.jsx)(n.li,{children:"Maintain single codebase for all dimensions"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Query metadata to discover fields\nconst fields = await api.get('/api/v4/core/PRD/fields');\n\n// Dynamically generate form\nfields.data.forEach(field => {\n  if (field.COD_ON_OFF.includes('N')) {\n    renderFormField(field);\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/map-framework",children:"MAP Framework"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/metadata-tables",children:"Metadata Tables"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"whats-the-difference-between-coreservice-corequery-and-corewrite",children:"What's the difference between CoreService, CoreQuery, and CoreWrite?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CoreService"})," (Go/Buffalo):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"API Gateway and single public entry point"}),"\n",(0,r.jsx)(n.li,{children:"Routes GET \u2192 CoreQuery"}),"\n",(0,r.jsx)(n.li,{children:"Routes POST/PUT/PATCH/DELETE \u2192 CoreWrite"}),"\n",(0,r.jsx)(n.li,{children:"Handles CORS, SSL, logging"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CoreQuery"})," (PHP/Symfony):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Read-only backend service"}),"\n",(0,r.jsx)(n.li,{children:"Optimized for queries"}),"\n",(0,r.jsx)(n.li,{children:"Field visibility filtering (COD_ON_OFF 'L'/'D')"}),"\n",(0,r.jsx)(n.li,{children:"Internal service (not directly accessible)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CoreWrite"})," (PHP/Symfony):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Write backend service"}),"\n",(0,r.jsx)(n.li,{children:"Handles CREATE/UPDATE/DELETE"}),"\n",(0,r.jsx)(n.li,{children:"TREC lifecycle management"}),"\n",(0,r.jsx)(n.li,{children:"OUTBOX event publishing"}),"\n",(0,r.jsx)(n.li,{children:"Internal service (not directly accessible)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"User Perspective"}),": You only call CoreService endpoints. Internal routing is transparent."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/advanced-topics/internal-architecture",children:"Internal Architecture"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-get-started-with-core-apis",children:"How do I get started with Core APIs?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Obtain API credentials"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Request access from platform administrator"}),"\n",(0,r.jsx)(n.li,{children:"Receive base URL and initial credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authenticate"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'POST /auth/login\n{\n  "username": "user@example.com",\n  "password": "..."\n}\n\n# Response includes access_token\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Make first API call"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?$num_rows=10\nAuthorization: Bearer {access_token}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query metadata"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD/fields\n# Discover available fields and their COD_ON_OFF flags\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create a record"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'POST /api/v4/core/PRD\n{\n  "data": {\n    "XPRD01": "Product Name",\n    "XPRD02": 99.99\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/introduction/quick-start",children:"Quick Start"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/api-endpoints",children:"API Endpoints"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authentication--authorization",children:"Authentication & Authorization"}),"\n",(0,r.jsx)(n.h3,{id:"how-do-jwt-tokens-work",children:"How do JWT tokens work?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": JWT (JSON Web Token) is a stateless authentication mechanism. After login, you receive an access token (1 hour TTL) and refresh token (30 days TTL)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Token Structure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "header": { "alg": "HS256", "typ": "JWT" },\n  "payload": {\n    "user_id": "user@example.com",\n    "source": "ecommerce",\n    "peso": "1",\n    "grants": ["products.read", "products.write"],\n    "exp": 1735574400\n  },\n  "signature": "..."\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Usage"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authentication",children:"Authentication"}),", ",(0,r.jsx)(n.a,{href:"./glossary#jwt-json-web-token",children:"JWT"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-refresh-expired-tokens",children:"How do I refresh expired tokens?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Use the refresh token to obtain a new access token before expiration."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Refresh Flow"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// 1. Detect token expiration\nif (error.status === 401 && error.code === 'TOKEN_EXPIRED') {\n  // 2. Call refresh endpoint\n  const response = await fetch('/auth/refresh', {\n    method: 'POST',\n    body: JSON.stringify({ refresh_token })\n  });\n\n  // 3. Receive new access token\n  const { access_token } = await response.json();\n\n  // 4. Retry original request with new token\n  return retryWithNewToken(access_token);\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best Practice"}),": Refresh proactively 5 minutes before expiration."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authentication",children:"Authentication"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/error-codes",children:"Error Codes"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"what-are-grants-and-how-do-i-check-them",children:"What are grants and how do I check them?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Grants are hierarchical permissions defined in TB_MENU using the nested set model. They control what operations users can perform on which dimensions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Grant Structure"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"products (parent)\n\u251c\u2500\u2500 products.read\n\u251c\u2500\u2500 products.write\n\u2502   \u251c\u2500\u2500 products.create\n\u2502   \u2514\u2500\u2500 products.update\n\u2514\u2500\u2500 products.delete\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Inheritance"}),": Having ",(0,r.jsx)(n.code,{children:"products"})," grant includes all child grants."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Checking Grants"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Extract from JWT token\nconst token = parseJWT(accessToken);\nconst userGrants = token.grants; // [\"products.write\"]\n\n// Check permission\nfunction hasGrant(required) {\n  // Simplified check (real implementation uses nested set query)\n  return userGrants.some(g =>\n    g === required || required.startsWith(g + '.')\n  );\n}\n\nif (hasGrant('products.create')) {\n  showCreateButton();\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authorization",children:"Authorization"}),", ",(0,r.jsx)(n.a,{href:"./metadata-tables#tb_menu---permission-hierarchy",children:"TB_MENU"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-does-tenant-isolation-work",children:"How does tenant isolation work?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Multi-tenant isolation is enforced through ",(0,r.jsx)(n.strong,{children:"source"})," and ",(0,r.jsx)(n.strong,{children:"centro_dett"})," fields in the context chain. Every query automatically includes tenant filters."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Automatic Filtering"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- User sees only their tenant's data\nSELECT * FROM TB_ANAG_PRD00\nWHERE PRD_SOURCE = 'tenant_A'       -- Tenant isolation\n  AND PRD_CENTRO_DETT = 'admin'     -- Org unit isolation\n  AND PRD_PESO >= 3                 -- User level filtering\n  AND TREC != 'C';                  -- Exclude deleted\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Complete data isolation"}),"\n",(0,r.jsx)(n.li,{children:"No cross-tenant data leakage"}),"\n",(0,r.jsx)(n.li,{children:"Same database, logical separation"}),"\n",(0,r.jsx)(n.li,{children:"Transparent to application code"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/tenant-isolation",children:"Tenant Isolation"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/context-chain",children:"Context Chain"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"data-operations",children:"Data Operations"}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-filter-records",children:"How do I filter records?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Use query parameters with filter operators."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Basic Filter"})," (equals):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?filter[XPRD05]=electronics\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Advanced Filters"})," (operators):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Greater than\n?filter[XPRD02][$gt]=100\n\n# Between\n?filter[XPRD02][$between]=50,150\n\n# In list\n?filter[XPRD05][$in]=electronics,books\n\n# Like (pattern match)\n?filter[XPRD01][$like]=Widget%\n\n# Not equals\n?filter[TREC][$ne]=C\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multiple Filters"})," (AND logic):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"?filter[XPRD05]=electronics&filter[XPRD02][$gt]=100\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Field Requirement"}),": Field must have 'R' flag in COD_ON_OFF to be searchable."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/filtering",children:"Filtering"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/filtering",children:"Filter Operators"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"whats-the-difference-between-put-and-patch",children:"What's the difference between PUT and PATCH?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"PUT"})," (Full Update):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Replaces entire record"}),"\n",(0,r.jsx)(n.li,{children:"Must include ALL modifiable fields"}),"\n",(0,r.jsx)(n.li,{children:"Missing fields are cleared/set to NULL"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'PUT /api/v4/core/PRD/123\n{\n  "data": {\n    "XPRD01": "Updated Name",\n    "XPRD02": 99.99,\n    "XPRD05": "cat_123",\n    "XPRD06": true\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"PATCH"})," (Partial Update):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Updates only specified fields"}),"\n",(0,r.jsx)(n.li,{children:"Other fields remain unchanged"}),"\n",(0,r.jsx)(n.li,{children:"Preferred for most updates"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'PATCH /api/v4/core/PRD/123\n{\n  "data": {\n    "XPRD02": 89.99  # Only update price\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best Practice"}),": Use PATCH for partial updates to avoid accidentally clearing fields."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/write-patterns/update-operations",children:"Update Operations"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/write-patterns/partial-updates",children:"Partial Updates"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-soft-delete-vs-force-delete",children:"How do I soft delete vs force delete?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Soft Delete"})," (default):"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sets TREC='C'"}),"\n",(0,r.jsx)(n.li,{children:"Record remains in database"}),"\n",(0,r.jsx)(n.li,{children:"Excluded from queries (TREC != 'C')"}),"\n",(0,r.jsx)(n.li,{children:"Reversible (restore by setting TREC='M')"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"DELETE /api/v4/core/PRD/123\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Force Delete"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Physically removes record"}),"\n",(0,r.jsx)(n.li,{children:"Irreversible"}),"\n",(0,r.jsx)(n.li,{children:"Use only when necessary (e.g., GDPR compliance)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"DELETE /api/v4/core/PRD/123?force=true\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Restore Soft-Deleted"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'PATCH /api/v4/core/PRD/123\n{\n  "data": { "TREC": "M" }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best Practice"}),": Default to soft delete for recoverability."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/write-patterns/delete-operations",children:"Delete Operations"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/trec-lifecycle",children:"TREC Lifecycle"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-cascade-operations-work",children:"How do cascade operations work?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Cascades automatically propagate operations to related dimensions, configured in TB_COST or TB_DIM."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- When product deleted, also delete images and categories\nINSERT INTO TB_DIM (COD_DIM, CASCADE_DELETE)\nVALUES ('PRD', 'PRDIMG,PRDCAT');\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Execution"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Delete product\nDELETE /api/v4/core/PRD/123\n\n# Automatically cascades to:\n# - Delete all PRDIMG records where PRDIMG_PRD_ID = 123\n# - Delete all PRDCAT records where PRDCAT_PRD_ID = 123\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Types"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"INSERT_CASCADE"})," - Create related records on POST"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UPDATE_CASCADE"})," - Update related records on PUT/PATCH"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DELETE_CASCADE"})," - Delete related records on DELETE"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/write-patterns/cascade-operations",children:"Cascade Operations"}),", ",(0,r.jsx)(n.a,{href:"./metadata-tables#tb_dim---dimension-registry",children:"TB_DIM"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance--optimization",children:"Performance & Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-optimize-slow-queries",children:"How do I optimize slow queries?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Field Selection"})," (only request needed fields):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?$fields=XPRD01,XPRD02\n# Faster than fetching all fields\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2. Pagination"})," (limit results):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?$num_rows=100&$offset=0\n# Never fetch all records at once\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"3. Keyset Pagination"})," (for large datasets):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?filter[PRD_ID][$gt]=1000&sort=PRD_ID&$num_rows=100\n# Constant time vs linear growth with offset\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"4. Indexing"})," (database level):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE INDEX idx_prd_category ON TB_ANAG_PRD00(XPRD05);\nCREATE INDEX idx_prd_active ON TB_ANAG_PRD00(XPRD06);\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5. Caching"})," (client-side):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const cache = new Map();\nconst cacheKey = `PRD:${id}`;\n\nif (cache.has(cacheKey)) {\n  return cache.get(cacheKey);\n}\n\nconst data = await api.get(`/api/v4/core/PRD/${id}`);\ncache.set(cacheKey, data, 60); // Cache for 60 seconds\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/advanced-topics/performance-optimization",children:"Performance Optimization"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/best-practices/performance-tips",children:"Performance Tips"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"what-caching-strategies-should-i-use",children:"What caching strategies should I use?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Client-Side Caching"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// 1. In-memory cache (short TTL)\nconst cache = new Map();\ncache.set(key, data, 60); // 60 seconds\n\n// 2. Browser cache (sessionStorage)\nsessionStorage.setItem('products', JSON.stringify(products));\n\n// 3. Service worker cache (offline)\ncaches.open('api-cache').then(cache =>\n  cache.put(url, response)\n);\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Server-Side Caching"})," (Redis):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// 1. Check cache\nconst cached = await redis.get(`product:${id}`);\nif (cached) return JSON.parse(cached);\n\n// 2. Fetch from API\nconst product = await api.get(`/api/v4/core/PRD/${id}`);\n\n// 3. Store in cache\nawait redis.set(`product:${id}`, JSON.stringify(product), 'EX', 300);\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cache Invalidation"})," (OUTBOX subscriber):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Subscribe to OUTBOX events\nchannel.consume('cache-invalidator', async (msg) => {\n  const event = JSON.parse(msg.content);\n\n  if (event.eventType === 'ProductUpdated') {\n    await redis.del(`product:${event.aggregateId}`);\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/advanced-topics/caching-strategies",children:"Caching Strategies"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/outbox-pattern",children:"OUTBOX Pattern"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-implement-pagination-correctly",children:"How do I implement pagination correctly?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Offset-Based Pagination"})," (simple, but slow for large offsets):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Page 1\nGET /api/v4/core/PRD?$num_rows=100&$offset=0\n\n# Page 2\nGET /api/v4/core/PRD?$num_rows=100&$offset=100\n\n# Page 3\nGET /api/v4/core/PRD?$num_rows=100&$offset=200\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Keyset Pagination"})," (faster, recommended):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Page 1\nGET /api/v4/core/PRD?sort=PRD_ID&$num_rows=100\n\n# Page 2 (use last ID from page 1: 1100)\nGET /api/v4/core/PRD?filter[PRD_ID][$gt]=1100&sort=PRD_ID&$num_rows=100\n\n# Page 3 (use last ID from page 2: 1200)\nGET /api/v4/core/PRD?filter[PRD_ID][$gt]=1200&sort=PRD_ID&$num_rows=100\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Performance Comparison"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Offset-based: O(n) - scans all skipped records"}),"\n",(0,r.jsx)(n.li,{children:"Keyset-based: O(1) - uses index directly"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination",children:"Pagination"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/best-practices/performance-tips",children:"Performance Tips"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"how-do-i-prevent-n1-query-problems",children:"How do I prevent N+1 query problems?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Use ",(0,r.jsx)(n.code,{children:"$expand"})," parameter to include related dimensions in a single request."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"N+1 Problem"})," (bad - 1 + N queries):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// 1 query for products\nconst products = await api.get('/api/v4/core/PRD?$num_rows=100');\n\n// N queries for categories (one per product)\nfor (const product of products.data) {\n  const category = await api.get(`/api/v4/core/CAT/${product.XPRD05}`);\n  product.categoryName = category.data.XCAT01;\n}\n// Total: 101 API calls!\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"})," (good - 1 query with expansion):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Single query with $expand\nconst products = await api.get('/api/v4/core/PRD?$num_rows=100&$expand=category');\n\nproducts.data.forEach(product => {\n  console.log(product.category.XCAT01);  // Already included\n});\n// Total: 1 API call\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/relational-queries",children:"Relational Queries"}),", ",(0,r.jsx)(n.a,{href:"./metadata-tables#tb_object---dimension-relationships",children:"TB_OBJECT"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"why-am-i-getting-401-unauthorized",children:"Why am I getting 401 Unauthorized?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": 401 errors indicate authentication issues."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Missing Authorization header"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \u274c Missing\nfetch('/api/v4/core/PRD');\n\n// \u2705 Correct\nfetch('/api/v4/core/PRD', {\n  headers: { 'Authorization': `Bearer ${token}` }\n});\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Expired token"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Check expiration\nconst payload = JSON.parse(atob(token.split('.')[1]));\nif (payload.exp < Date.now() / 1000) {\n  // Refresh token\n  token = await refreshToken();\n}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Invalid token signature"}),":"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token corrupted during storage/transmission"}),"\n",(0,r.jsx)(n.li,{children:"Token from different issuer"}),"\n",(0,r.jsxs)(n.li,{children:["Solution: Obtain new token via ",(0,r.jsx)(n.code,{children:"/auth/login"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/error-codes",children:"Error Codes"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authentication",children:"Authentication"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"why-am-i-getting-403-forbidden",children:"Why am I getting 403 Forbidden?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": 403 errors indicate authorization issues (valid auth, insufficient permissions)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Missing grant"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Check user grants\nif (!user.grants.includes('products.write')) {\n  // Hide create/edit UI\n}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source/centro_dett mismatch"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Verify context\nconsole.log(session.source);       // Must match record\nconsole.log(session.centro_dett);  // Must match record\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Peso insufficient"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// User peso=3 cannot access peso=1 records\nif (record.peso < user.peso) {\n  // Access denied\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/error-codes",children:"Error Codes"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authorization",children:"Authorization"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"why-are-some-fields-not-visible",children:"Why are some fields not visible?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Field visibility is controlled by COD_ON_OFF flags in TB_COST."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// 1. Query field metadata\nconst fields = await api.get('/api/v4/core/PRD/fields');\n\n// 2. Check COD_ON_OFF for missing field\nconst field = fields.data.find(f => f.COD_VAR === 'XPRD99');\nconsole.log(field.COD_ON_OFF); // May be missing 'L' or 'D'\n\n// 3. Verify context\nif (!field.COD_ON_OFF.includes('L')) {\n  // Not visible in list view\n}\nif (!field.COD_ON_OFF.includes('D')) {\n  // Not visible in detail view\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Field has no 'L' flag \u2192 Not visible in list views"}),"\n",(0,r.jsx)(n.li,{children:"Field has no 'D' flag \u2192 Not visible in detail views"}),"\n",(0,r.jsx)(n.li,{children:"Update TB_COST.COD_ON_OFF to include required flag"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/cod-on-off-flags",children:"COD_ON_OFF Flags"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/field-visibility",children:"Field Visibility"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"why-are-outbox-events-delayed",children:"Why are OUTBOX events delayed?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": OUTBOX events are processed asynchronously via RabbitMQ."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RabbitMQ queue backlog"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check queue depth\nrabbitmqctl list_queues\n\n# Scale subscribers if deep queue\nkubectl scale deployment search-indexer --replicas=3\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscriber processing slow"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Optimize subscriber\nchannel.prefetch(10); // Process in batches\n\nchannel.consume('queue', async (msg) => {\n  try {\n    await processEvent(msg);\n    channel.ack(msg);\n  } catch (error) {\n    channel.nack(msg, false, true); // Requeue\n  }\n});\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publisher lag"}),":"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Database transaction delays"}),"\n",(0,r.jsx)(n.li,{children:"Network issues to RabbitMQ"}),"\n",(0,r.jsx)(n.li,{children:"Check CoreWrite logs"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Latency"}),": < 1 second under normal load"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Related"}),": ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/outbox-pattern",children:"OUTBOX Pattern"}),", ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/advanced-topics/outbox-subscribers",children:"Outbox Subscribers"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"50+ frequently asked questions"})," organized by topic"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Clear answers"})," with code examples"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Cross-references"})," to detailed documentation"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Troubleshooting guidance"})," for common issues"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Question Categories"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"General (platform overview, getting started)"}),"\n",(0,r.jsx)(n.li,{children:"Authentication & Authorization (JWT, grants, tenancy)"}),"\n",(0,r.jsx)(n.li,{children:"Data Operations (filtering, CRUD, cascades)"}),"\n",(0,r.jsx)(n.li,{children:"Performance & Optimization (caching, pagination, N+1 prevention)"}),"\n",(0,r.jsx)(n.li,{children:"Troubleshooting (401, 403, visibility, OUTBOX delays)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-sections",children:"Related Sections"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/quick-reference",children:"Quick Reference"})," - Cheat sheet"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/error-codes",children:"Error Codes"})," - Complete error catalog"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/best-practices/troubleshooting",children:"Troubleshooting"})," - Common issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/best-practices/",children:"Best Practices"})," - Usage guidelines"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2172:(e,n,s)=>{s.d(n,{I:()=>o,M:()=>a});var r=s(1504);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);