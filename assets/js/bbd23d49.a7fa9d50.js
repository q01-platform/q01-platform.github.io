"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[9524],{3360:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>o});var s=i(7624),d=i(2172);const r={title:"Dimensions",sidebar_label:"1. Dimensions",sidebar_position:2,description:"Understanding dimensions - the fundamental building blocks of Q01 Core APIs"},l="Dimensions: The Foundation",c={id:"products/map.q01.io/core-api-platform-v4/core-concepts/dimensions",title:"Dimensions",description:"Understanding dimensions - the fundamental building blocks of Q01 Core APIs",source:"@site/docs/products/map.q01.io/core-api-platform-v4/01-core-concepts/dimensions.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/01-core-concepts",slug:"/products/map.q01.io/core-api-platform-v4/core-concepts/dimensions",permalink:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/dimensions",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Dimensions",sidebar_label:"1. Dimensions",sidebar_position:2,description:"Understanding dimensions - the fundamental building blocks of Q01 Core APIs"},sidebar:"mapSidebar",previous:{title:"Core Concepts",permalink:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/"},next:{title:"2. MAP Framework",permalink:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/map-framework"}},t={},o=[{value:"What is a Dimension?",id:"what-is-a-dimension",level:2},{value:"Dimension vs. Traditional Table",id:"dimension-vs-traditional-table",level:2},{value:"Traditional Approach (Hardcoded)",id:"traditional-approach-hardcoded",level:3},{value:"Q01 Approach (Metadata-Driven)",id:"q01-approach-metadata-driven",level:3},{value:"TB_DIM: Dimension Registry",id:"tb_dim-dimension-registry",level:2},{value:"Key Fields",id:"key-fields",level:3},{value:"Example Registration",id:"example-registration",level:3},{value:"Physical Storage: <code>TB_ANAG_{DIM}00</code>",id:"physical-storage-tb_anag_dim00",level:2},{value:"Standard Fields (Auto-Added)",id:"standard-fields-auto-added",level:3},{value:"Dimension Types",id:"dimension-types",level:2},{value:"Type 0: Standard Table",id:"type-0-standard-table",level:3},{value:"Type 1: View",id:"type-1-view",level:3},{value:"Type 2: Document/Hierarchy",id:"type-2-documenthierarchy",level:3},{value:"Custom Objects (TYPE_OBJ=2)",id:"custom-objects-type_obj2",level:3},{value:"Dimension Lifecycle",id:"dimension-lifecycle",level:2},{value:"1. Register Dimension",id:"1-register-dimension",level:3},{value:"2. Define Fields",id:"2-define-fields",level:3},{value:"3. Create Physical Table",id:"3-create-physical-table",level:3},{value:"4. Configure Permissions",id:"4-configure-permissions",level:3},{value:"5. Start Using",id:"5-start-using",level:3},{value:"Querying Dimensions",id:"querying-dimensions",level:2},{value:"List All Dimensions",id:"list-all-dimensions",level:3},{value:"Find Dimension for Table",id:"find-dimension-for-table",level:3},{value:"Get Dimension Metadata",id:"get-dimension-metadata",level:3},{value:"Dimension Naming Conventions",id:"dimension-naming-conventions",level:2},{value:"COD_DIM (Dimension Code)",id:"cod_dim-dimension-code",level:3},{value:"TABLE_NAME_PUB (Table Name)",id:"table_name_pub-table-name",level:3},{value:"Field Naming (in TB_COST)",id:"field-naming-in-tb_cost",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Master-Detail Relationships",id:"master-detail-relationships",level:3},{value:"Lookup Tables",id:"lookup-tables",level:3},{value:"Dimension Best Practices",id:"dimension-best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Step",id:"next-step",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"dimensions-the-foundation",children:"Dimensions: The Foundation"}),"\n",(0,s.jsx)(n.h2,{id:"what-is-a-dimension",children:"What is a Dimension?"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"dimension"}),' is a business entity type registered in the Q01 metadata system. Think of it as a "table definition" or "entity class" - but defined in metadata, not code.']}),"\n",(0,s.jsx)(n.p,{children:"Examples of dimensions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PRD"})," - Products"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CLI"})," - Customers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ORD"})," - Orders"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"INV"})," - Invoices"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"USR"})," - Users"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Once a dimension is registered in TB_DIM, Core APIs automatically provide full CRUD operations"})," without any code deployment."]}),"\n",(0,s.jsx)(n.h2,{id:"dimension-vs-traditional-table",children:"Dimension vs. Traditional Table"}),"\n",(0,s.jsx)(n.h3,{id:"traditional-approach-hardcoded",children:"Traditional Approach (Hardcoded)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Need to write code for each entity \u274c\nclass ProductService {\n  async create(data) { /* custom code */ }\n  async read(id) { /* custom code */ }\n  async update(id, data) { /* custom code */ }\n  async delete(id) { /* custom code */ }\n}\n\nclass CustomerService {\n  async create(data) { /* custom code */ }\n  async read(id) { /* custom code */ }\n  // ... more repetitive code\n}\n\n// Adding new entity = write more code, deploy, test\n"})}),"\n",(0,s.jsx)(n.h3,{id:"q01-approach-metadata-driven",children:"Q01 Approach (Metadata-Driven)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Define dimension in metadata \u2705\nINSERT INTO TB_DIM (COD_DIM, TABLE_NAME_PUB, DESC_DIM, ...)\nVALUES ('PRD', 'TB_ANAG_PRD00', 'Products', ...);\n\n-- Define fields in TB_COST\nINSERT INTO TB_COST (DIM_COD, COD_COST, DESC_COST, TIPO_CAMPO, ...)\nVALUES ('PRD', 'XPRD01', 'Product Name', 'varchar(255)', ...);\n\n-- Done! Core APIs now handle all CRUD:\n-- GET /api/v4/core/PRD \u2192 lists products\n-- POST /api/v4/core/PRD \u2192 creates product\n-- PUT /api/v4/core/PRD/123 \u2192 updates product\n-- DELETE /api/v4/core/PRD/123 \u2192 deletes product\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No code deployment needed"})," - just metadata registration."]}),"\n",(0,s.jsx)(n.h2,{id:"tb_dim-dimension-registry",children:"TB_DIM: Dimension Registry"}),"\n",(0,s.jsxs)(n.p,{children:["All dimensions are registered in the ",(0,s.jsx)(n.strong,{children:"TB_DIM"})," table."]}),"\n",(0,s.jsx)(n.h3,{id:"key-fields",children:"Key Fields"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Purpose"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"COD_DIM"})}),(0,s.jsx)(n.td,{children:"Dimension code (unique identifier)"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"PRD"}),", ",(0,s.jsx)(n.code,{children:"CLI"}),", ",(0,s.jsx)(n.code,{children:"ORD"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TABLE_NAME_PUB"})}),(0,s.jsx)(n.td,{children:"Physical table name"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TB_ANAG_PRD00"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"DESC_DIM"})}),(0,s.jsx)(n.td,{children:"Human-readable description"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"Products"}),", ",(0,s.jsx)(n.code,{children:"Customers"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TIPO_DIM"})}),(0,s.jsx)(n.td,{children:"Dimension type"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"0"})," (table), ",(0,s.jsx)(n.code,{children:"1"})," (view), ",(0,s.jsx)(n.code,{children:"2"})," (document)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TYPE_OBJ"})}),(0,s.jsx)(n.td,{children:"Object type"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"0"})," (standard), ",(0,s.jsx)(n.code,{children:"2"})," (custom object)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"COD_MENU"})}),(0,s.jsx)(n.td,{children:"Associated menu/security area"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"productManagement"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"MODULO"})}),(0,s.jsx)(n.td,{children:"Module context"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"Default"}),", ",(0,s.jsx)(n.code,{children:"POS"}),", ",(0,s.jsx)(n.code,{children:"B2B"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"COD_COST_PUB"})}),(0,s.jsx)(n.td,{children:"Use public field codes"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"1"})," (yes), ",(0,s.jsx)(n.code,{children:"0"})," (no)"]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"example-registration",children:"Example Registration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (\n  COD_DIM,\n  TABLE_NAME_PUB,\n  DESC_DIM,\n  TIPO_DIM,\n  TYPE_OBJ,\n  COD_MENU,\n  MODULO\n) VALUES (\n  'PRD',                    -- Dimension code\n  'TB_ANAG_PRD00',          -- Physical table\n  'Products',               -- Description\n  0,                        -- Standard table\n  0,                        -- Standard object\n  'productManagement',      -- Security area\n  'Default'                 -- Module\n);\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"physical-storage-tb_anag_dim00",children:["Physical Storage: ",(0,s.jsx)(n.code,{children:"TB_ANAG_{DIM}00"})]}),"\n",(0,s.jsx)(n.p,{children:"Data for each dimension is stored in a physical table following this naming convention:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"TB_ANAG_{DIM}00\n"})}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TB_ANAG_PRD00"})," - Products data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TB_ANAG_CLI00"})," - Customers data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TB_ANAG_ORD00"})," - Orders data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"standard-fields-auto-added",children:"Standard Fields (Auto-Added)"}),"\n",(0,s.jsx)(n.p,{children:"Every dimension table automatically includes these audit/system fields:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Purpose"}),(0,s.jsx)(n.th,{children:"Auto-Populated"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"{DIM}_ID"})})}),(0,s.jsx)(n.td,{children:"Primary key"}),(0,s.jsx)(n.td,{children:"Yes (auto-increment or sequence)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"OWNER"})}),(0,s.jsx)(n.td,{children:"Creating user ID"}),(0,s.jsx)(n.td,{children:"Yes (from JWT)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"LOWNER"})}),(0,s.jsx)(n.td,{children:"Last modifying user ID"}),(0,s.jsx)(n.td,{children:"Yes (from JWT)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"CDATA"})}),(0,s.jsx)(n.td,{children:"Creation timestamp (YmdHis)"}),(0,s.jsx)(n.td,{children:"Yes (current datetime)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"LDATA"})}),(0,s.jsx)(n.td,{children:"Last modification timestamp"}),(0,s.jsx)(n.td,{children:"Yes (current datetime)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TREC"})}),(0,s.jsx)(n.td,{children:"Record state (N/M/C/P)"}),(0,s.jsx)(n.td,{children:"Yes (N on create, M on update)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"TIMESTAMP"})}),(0,s.jsx)(n.td,{children:"Microsecond timestamp"}),(0,s.jsx)(n.td,{children:"Yes (microtime)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"X{DIM}01"})})}),(0,s.jsx)(n.td,{children:"Ambiente (environment filter)"}),(0,s.jsx)(n.td,{children:"Yes (from session)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"X{DIM}02"})})}),(0,s.jsx)(n.td,{children:"Ambiente_rif (reference environment)"}),(0,s.jsx)(n.td,{children:"Yes (from session)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Example for PRD dimension:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE TB_ANAG_PRD00 (\n  PRD_ID INT PRIMARY KEY AUTO_INCREMENT,\n\n  -- Business fields (defined in TB_COST)\n  XPRD01 VARCHAR(255),  -- Product name\n  XPRD02 DECIMAL(10,2), -- Price\n  XPRD03 VARCHAR(50),   -- Product code\n\n  -- Standard audit fields (auto-added)\n  OWNER VARCHAR(50),\n  LOWNER VARCHAR(50),\n  CDATA VARCHAR(14),\n  LDATA VARCHAR(14),\n  TREC CHAR(1) DEFAULT 'N',\n  TIMESTAMP BIGINT,\n  XPRD01_AMBIENTE VARCHAR(255),  -- Note: 01 = ambiente\n  XPRD02_AMBIENTE VARCHAR(255)   -- Note: 02 = ambiente_rif\n);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Core APIs handle all standard fields automatically"})," - you never need to populate them manually."]}),"\n",(0,s.jsx)(n.h2,{id:"dimension-types",children:"Dimension Types"}),"\n",(0,s.jsx)(n.h3,{id:"type-0-standard-table",children:"Type 0: Standard Table"}),"\n",(0,s.jsx)(n.p,{children:"Most common type - represents a normalized database table."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, TIPO_DIM, TYPE_OBJ, ...)\nVALUES ('PRD', 0, 0, ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CoreQuery generates SELECT statements"}),"\n",(0,s.jsx)(n.li,{children:"CoreWrite generates INSERT/UPDATE/DELETE statements"}),"\n",(0,s.jsx)(n.li,{children:"Fields defined in TB_COST"}),"\n",(0,s.jsx)(n.li,{children:"Standard CRUD operations"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"type-1-view",children:"Type 1: View"}),"\n",(0,s.jsx)(n.p,{children:"Represents a database view (read-only, computed data)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, TIPO_DIM, TYPE_OBJ, TABLE_NAME_PUB, ...)\nVALUES ('PRD_SUMMARY', 1, 0, 'V_PRODUCTS_SUMMARY', ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CoreQuery can read from view"}),"\n",(0,s.jsxs)(n.li,{children:["CoreWrite operations ",(0,s.jsx)(n.strong,{children:"not allowed"})," (views are read-only)"]}),"\n",(0,s.jsx)(n.li,{children:"Useful for complex joins, aggregations"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"type-2-documenthierarchy",children:"Type 2: Document/Hierarchy"}),"\n",(0,s.jsx)(n.p,{children:"Represents hierarchical or nested data structures."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, TIPO_DIM, TYPE_OBJ, ...)\nVALUES ('ORDER_DOCUMENT', 2, 0, ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Special ",(0,s.jsx)(n.code,{children:"/api/v4/document/{dim}/{id}"})," endpoint"]}),"\n",(0,s.jsx)(n.li,{children:"Fetches related data across multiple dimensions"}),"\n",(0,s.jsx)(n.li,{children:"Returns nested JSON with full hierarchy"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom-objects-type_obj2",children:"Custom Objects (TYPE_OBJ=2)"}),"\n",(0,s.jsx)(n.p,{children:"Special dimension type for custom business logic."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, TIPO_DIM, TYPE_OBJ, ...)\nVALUES ('CUSTOM_REPORT', 0, 2, ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Routed to ",(0,s.jsx)(n.code,{children:"CustomModules"})," service instead of standard ",(0,s.jsx)(n.code,{children:"Modules"})]}),"\n",(0,s.jsx)(n.li,{children:"Allows custom SQL or logic"}),"\n",(0,s.jsx)(n.li,{children:"Still uses metadata for field definitions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"dimension-lifecycle",children:"Dimension Lifecycle"}),"\n",(0,s.jsx)(n.h3,{id:"1-register-dimension",children:"1. Register Dimension"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Step 1: Register in TB_DIM\nINSERT INTO TB_DIM (COD_DIM, TABLE_NAME_PUB, DESC_DIM, ...)\nVALUES ('PRD', 'TB_ANAG_PRD00', 'Products', ...);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-define-fields",children:"2. Define Fields"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Step 2: Define fields in TB_COST\nINSERT INTO TB_COST (DIM_COD, COD_COST, DESC_COST, TIPO_CAMPO, COD_ON_OFF, COD_SEQUENZA, ...)\nVALUES\n  ('PRD', 'XPRD01', 'Product Name', 'varchar(255)', 'LDNMR', 10, ...),\n  ('PRD', 'XPRD02', 'Price', 'decimal(10,2)', 'LDNMR', 20, ...),\n  ('PRD', 'XPRD03', 'Product Code', 'varchar(50)', 'LD', 30, ...);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-create-physical-table",children:"3. Create Physical Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Step 3: Create actual database table\nCREATE TABLE TB_ANAG_PRD00 (\n  PRD_ID INT PRIMARY KEY AUTO_INCREMENT,\n  XPRD01 VARCHAR(255),\n  XPRD02 DECIMAL(10,2),\n  XPRD03 VARCHAR(50),\n  -- Standard fields\n  OWNER VARCHAR(50),\n  LOWNER VARCHAR(50),\n  CDATA VARCHAR(14),\n  LDATA VARCHAR(14),\n  TREC CHAR(1) DEFAULT 'N',\n  TIMESTAMP BIGINT,\n  XPRD01_AMBIENTE VARCHAR(255),\n  XPRD02_AMBIENTE VARCHAR(255)\n);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-configure-permissions",children:"4. Configure Permissions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Step 4: Define security areas in TB_MENU\nINSERT INTO TB_MENU (COD_MENU, DESC_MENU, DIM_COD, NLEVEL, NLEFT, NRIGHT, ...)\nVALUES ('productManagement', 'Product Management', 'PRD', 2, 10, 20, ...);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-start-using",children:"5. Start Using"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Step 5: Core APIs now work!\ncurl -X GET 'https://coreservice/api/v4/core/PRD?source=productManagement'\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Total time: ~30 minutes"})," to register a new dimension with full CRUD."]}),"\n",(0,s.jsx)(n.h2,{id:"querying-dimensions",children:"Querying Dimensions"}),"\n",(0,s.jsx)(n.h3,{id:"list-all-dimensions",children:"List All Dimensions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT COD_DIM, DESC_DIM, TABLE_NAME_PUB, TIPO_DIM\nFROM TB_DIM\nWHERE TIPO_DIM = 0  -- Standard tables only\nORDER BY DESC_DIM;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"find-dimension-for-table",children:"Find Dimension for Table"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"SELECT COD_DIM, DESC_DIM\nFROM TB_DIM\nWHERE TABLE_NAME_PUB = 'TB_ANAG_PRD00';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get-dimension-metadata",children:"Get Dimension Metadata"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Via Core APIs\nGET /api/v4/core/PRD/fields?source=productManagement&center_dett=nuovo\n"})}),"\n",(0,s.jsx)(n.p,{children:'Returns TB_COST metadata for all fields visible in "nuovo" (create) context.'}),"\n",(0,s.jsx)(n.h2,{id:"dimension-naming-conventions",children:"Dimension Naming Conventions"}),"\n",(0,s.jsx)(n.h3,{id:"cod_dim-dimension-code",children:"COD_DIM (Dimension Code)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Recommended format:"})," 3-4 uppercase letters"]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"PRD"})," - Products"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"CLI"})," - Customers"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"ORD"})," - Orders"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"ORDS"})," - Order Details (4 letters)"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"products"})," - Avoid lowercase"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"P"})," - Too short, not descriptive"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"table_name_pub-table-name",children:"TABLE_NAME_PUB (Table Name)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Mandatory format:"})," ",(0,s.jsx)(n.code,{children:"TB_ANAG_{DIM}00"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"TB_ANAG_PRD00"})," - Products table"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"TB_ANAG_CLI00"})," - Customers table"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"products"})," - Wrong format"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"TB_PRD"})," - Missing ANAG prefix and 00 suffix"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why this format?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TB_"})," - Standard table prefix"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ANAG_"}),' - Indicates "anagrafica" (master data)']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"{DIM}"})," - Dimension code"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"00"})," - Version suffix (allows for table versioning)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"field-naming-in-tb_cost",children:"Field Naming (in TB_COST)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Recommended format:"})," ",(0,s.jsx)(n.code,{children:"X{DIM}{SEQ}"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"XPRD01"})," - Product field #1 (name)"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"XPRD02"})," - Product field #2 (price)"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.code,{children:"XCLI01"})," - Customer field #1 (name)"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"product_name"})," - Not Q01 convention"]}),"\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.code,{children:"name"})," - Missing dimension prefix"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why this format?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"X"})," - Indicates extended/custom field"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"{DIM}"})," - Dimension code (PRD, CLI)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"{SEQ}"})," - Sequential number (01, 02, 03, ...)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Allows easily identifying which dimension a field belongs to."}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"master-detail-relationships",children:"Master-Detail Relationships"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Master dimension (header):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, ...) VALUES ('ORD', ...);  -- Orders\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Detail dimension (line items):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, ...) VALUES ('ORDITEM', ...);  -- Order Items\n\n-- Detail references master via foreign key\n-- Define in TB_COST:\nINSERT INTO TB_COST (DIM_COD, COD_COST, TIPO_CAMPO, ...)\nVALUES ('ORDITEM', 'XORDITEM01', 'int', ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Cascades in metadata:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "DELETE_CASCADE": {\n    "srcKey": "ORD_ID",\n    "applyTo": {\n      "ORDITEM": {"destKey": "ORDER_ID"}\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Deleting order \u2192 automatically deletes order items."}),"\n",(0,s.jsx)(n.h3,{id:"lookup-tables",children:"Lookup Tables"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Main dimension:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, ...) VALUES ('PRD', ...);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Lookup dimension:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INSERT INTO TB_DIM (COD_DIM, ...) VALUES ('CATEGORY', ...);\n\n-- Reference in TB_COST with appropriate field type:\nINSERT INTO TB_COST (DIM_COD, COD_COST, TIPO_CAMPO, ...)\nVALUES ('PRD', 'XPRD05', 'combo', ...);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result:"})," Product's category field becomes dropdown that can be configured to reference CATEGORY dimension data."]}),"\n",(0,s.jsx)(n.h2,{id:"dimension-best-practices",children:"Dimension Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use 3-4 letter uppercase codes for COD_DIM"}),"\n",(0,s.jsxs)(n.li,{children:["Follow ",(0,s.jsx)(n.code,{children:"TB_ANAG_{DIM}00"})," naming for tables"]}),"\n",(0,s.jsx)(n.li,{children:"Define all fields in TB_COST (never add table columns without metadata)"}),"\n",(0,s.jsx)(n.li,{children:"Use COD_SEQUENZA for field ordering (10, 20, 30, ... allows insertions)"}),"\n",(0,s.jsx)(n.li,{children:"Configure COD_ON_OFF for all fields"}),"\n",(0,s.jsx)(n.li,{children:"Set appropriate TIPO_DIM and TYPE_OBJ"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use lowercase or special characters in COD_DIM"}),"\n",(0,s.jsxs)(n.li,{children:["Create tables outside ",(0,s.jsx)(n.code,{children:"TB_ANAG_"})," convention"]}),"\n",(0,s.jsx)(n.li,{children:"Add table columns without corresponding TB_COST entries"}),"\n",(0,s.jsx)(n.li,{children:"Skip standard audit fields (OWNER, CDATA, TREC, etc.)"}),"\n",(0,s.jsx)(n.li,{children:"Use sequential numbering without gaps (use 10, 20, 30, not 1, 2, 3)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.p,{children:["Dimensions are the ",(0,s.jsx)(n.strong,{children:"foundation of Q01 Core APIs"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Registered in TB_DIM"})," - defines dimension properties"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Stored in ",(0,s.jsx)(n.code,{children:"TB_ANAG_{DIM}00"})]})," - physical table with standard audit fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fields defined in TB_COST"})," - metadata-driven field definitions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatically get CRUD operations"})," - no code needed"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Mental Model:"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'"A dimension is a registered entity type that Core APIs know how to handle automatically based on metadata."'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Once you understand dimensions, you can move on to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/map-framework",children:"MAP Framework"})," - the metadata tables that define dimensions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/field-visibility",children:"Field Visibility"})," - how COD_ON_OFF controls what you see"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/context-chain",children:"Context Chain"})," - how context affects dimension operations"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-step",children:"Next Step"}),"\n",(0,s.jsxs)(n.p,{children:["\u2192 Continue to ",(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/map-framework",children:"MAP Framework"})," to understand the metadata tables that power dimensions."]})]})}function h(e={}){const{wrapper:n}={...(0,d.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},2172:(e,n,i)=>{i.d(n,{I:()=>c,M:()=>l});var s=i(1504);const d={},r=s.createContext(d);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);