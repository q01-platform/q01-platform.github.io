"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[2088],{732:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var l=i(7624),r=i(2172);const s={title:"Filtering",sidebar_label:"Filtering",sidebar_position:4,description:"Query filtering with operators, logical combinations, and special TREC filtering"},t="Filtering",c={id:"products/map.q01.io/core-api-platform-v4/query-patterns/filtering",title:"Filtering",description:"Query filtering with operators, logical combinations, and special TREC filtering",source:"@site/docs/products/map.q01.io/core-api-platform-v4/03-query-patterns/filtering.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/03-query-patterns",slug:"/products/map.q01.io/core-api-platform-v4/query-patterns/filtering",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/filtering",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Filtering",sidebar_label:"Filtering",sidebar_position:4,description:"Query filtering with operators, logical combinations, and special TREC filtering"},sidebar:"mapSidebar",previous:{title:"Field Projection",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-projection"},next:{title:"Pagination",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination"}},a={},d=[{value:"Overview",id:"overview",level:2},{value:"Basic Filter Operators",id:"basic-filter-operators",level:2},{value:"Equals",id:"equals",level:3},{value:"Not Equals ($ne)",id:"not-equals-ne",level:3},{value:"Greater Than ($gt) / Greater Than or Equal ($gte)",id:"greater-than-gt--greater-than-or-equal-gte",level:3},{value:"Less Than ($lt) / Less Than or Equal ($lte)",id:"less-than-lt--less-than-or-equal-lte",level:3},{value:"IN ($in)",id:"in-in",level:3},{value:"NOT IN ($nin)",id:"not-in-nin",level:3},{value:"LIKE ($like)",id:"like-like",level:3},{value:"BETWEEN ($between)",id:"between-between",level:3},{value:"IS NULL ($isnull) / IS NOT NULL ($notnull)",id:"is-null-isnull--is-not-null-notnull",level:3},{value:"Logical Combinations",id:"logical-combinations",level:2},{value:"AND (Multiple Filters)",id:"and-multiple-filters",level:3},{value:"OR (Same Field Multiple Values)",id:"or-same-field-multiple-values",level:3},{value:"Special TREC Filtering",id:"special-trec-filtering",level:2},{value:"The cond_trec Parameter",id:"the-cond_trec-parameter",level:3},{value:"Default Behavior (No cond_trec)",id:"default-behavior-no-cond_trec",level:3},{value:"Explicit Default (cond_trec=C)",id:"explicit-default-cond_trecc",level:3},{value:"Custom TREC Exclusions",id:"custom-trec-exclusions",level:3},{value:"Bypass TREC Filter (cond_trec=null)",id:"bypass-trec-filter-cond_trecnull",level:3},{value:"Filter Examples",id:"filter-examples",level:2},{value:"Example 1: Active Products in Specific Category",id:"example-1-active-products-in-specific-category",level:3},{value:"Example 2: Price Range with Category Filter",id:"example-2-price-range-with-category-filter",level:3},{value:"Example 3: Search Products by Name Pattern",id:"example-3-search-products-by-name-pattern",level:3},{value:"Example 4: Recently Created Records",id:"example-4-recently-created-records",level:3},{value:"Example 5: Multiple Categories (OR)",id:"example-5-multiple-categories-or",level:3},{value:"Example 6: Include Deleted Records",id:"example-6-include-deleted-records",level:3},{value:"Case Sensitivity",id:"case-sensitivity",level:2},{value:"Case-Sensitive Filtering (Default)",id:"case-sensitive-filtering-default",level:3},{value:"Case-Insensitive Filtering",id:"case-insensitive-filtering",level:3},{value:"Filtering by Related Dimensions",id:"filtering-by-related-dimensions",level:2},{value:"Filter by Foreign Key Field",id:"filter-by-foreign-key-field",level:3},{value:"Filter Validation",id:"filter-validation",level:2},{value:"Field Must Have R Flag",id:"field-must-have-r-flag",level:3},{value:"Error Response",id:"error-response",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Indexed Fields",id:"indexed-fields",level:3},{value:"Limit Results",id:"limit-results",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.M)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"filtering",children:"Filtering"}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(n.p,{children:["The Core APIs support powerful filtering capabilities for narrowing query results. Filters can be applied to any field marked with the ",(0,l.jsx)(n.strong,{children:"R flag"})," (search/filter) in COD_ON_OFF."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 Multiple filter operators (equals, not equals, greater than, less than, like, in, between)"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Logical combinations (AND, OR)"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Nested conditions"}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Special TREC filtering via ",(0,l.jsx)(n.code,{children:"cond_trec"})," parameter"]}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Case-sensitive and case-insensitive matching"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 NULL value filtering"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter Syntax:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"?filter[FIELD_NAME][$operator]=value\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"basic-filter-operators",children:"Basic Filter Operators"}),"\n",(0,l.jsx)(n.h3,{id:"equals",children:"Equals"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter records where field equals specific value:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART06]=1\n# WHERE XART06 = 1 (active products only)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Multiple equals (implicit OR):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART01]=1&filter[XART01]=2\n# WHERE XART01 = 1 OR XART01 = 2\n"})}),"\n",(0,l.jsx)(n.h3,{id:"not-equals-ne",children:"Not Equals ($ne)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exclude records with specific value:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[TREC][$ne]=C\n# WHERE TREC != 'C' (exclude soft-deleted records)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"greater-than-gt--greater-than-or-equal-gte",children:"Greater Than ($gt) / Greater Than or Equal ($gte)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter by numeric or date comparison:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Greater than\nGET /api/v4/core/ART?source=settings-2&filter[XART25][$gt]=100\n# WHERE XART25 > 100 (price greater than 100)\n\n# Greater than or equal\nGET /api/v4/core/ART?source=settings-2&filter[XART25][$gte]=100\n# WHERE XART25 >= 100\n"})}),"\n",(0,l.jsx)(n.h3,{id:"less-than-lt--less-than-or-equal-lte",children:"Less Than ($lt) / Less Than or Equal ($lte)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter by upper bound:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Less than\nGET /api/v4/core/ART?source=settings-2&filter[XART25][$lt]=50\n# WHERE XART25 < 50 (price less than 50)\n\n# Less than or equal\nGET /api/v4/core/ART?source=settings-2&filter[XART25][$lte]=50\n# WHERE XART25 <= 50\n"})}),"\n",(0,l.jsx)(n.h3,{id:"in-in",children:"IN ($in)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Match any value in a list:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART01][$in]=1,2,3\n# WHERE XART01 IN (1, 2, 3) (categories 1, 2, or 3)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"not-in-nin",children:"NOT IN ($nin)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exclude multiple values:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART01][$nin]=4,5,6\n# WHERE XART01 NOT IN (4, 5, 6)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"like-like",children:"LIKE ($like)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Pattern matching (SQL LIKE):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Starts with\nGET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=Widget%\n# WHERE XART20 LIKE 'Widget%'\n\n# Ends with\nGET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=%Pro\n# WHERE XART20 LIKE '%Pro'\n\n# Contains\nGET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=%Premium%\n# WHERE XART20 LIKE '%Premium%'\n"})}),"\n",(0,l.jsx)(n.h3,{id:"between-between",children:"BETWEEN ($between)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Range filtering:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART25][$between]=50,100\n# WHERE XART25 BETWEEN 50 AND 100 (price between 50 and 100)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"is-null-isnull--is-not-null-notnull",children:"IS NULL ($isnull) / IS NOT NULL ($notnull)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter by NULL values:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# IS NULL\nGET /api/v4/core/ART?source=settings-2&filter[XART53][$isnull]=true\n# WHERE XART53 IS NULL\n\n# IS NOT NULL\nGET /api/v4/core/ART?source=settings-2&filter[XART53][$notnull]=true\n# WHERE XART53 IS NOT NULL\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"logical-combinations",children:"Logical Combinations"}),"\n",(0,l.jsx)(n.h3,{id:"and-multiple-filters",children:"AND (Multiple Filters)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"All conditions must be true:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART06]=1&filter[XART01]=2\n# WHERE XART06 = 1 AND XART01 = 2 (active products in category 2)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Multiple operators on same field:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART25][$gte]=50&filter[XART25][$lte]=100\n# WHERE XART25 >= 50 AND XART25 <= 100 (price between 50-100)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"or-same-field-multiple-values",children:"OR (Same Field Multiple Values)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Any condition must be true:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Using $in operator (recommended)\nGET /api/v4/core/ART?source=settings-2&filter[XART01][$in]=1,2,3\n# WHERE XART01 IN (1,2,3)\n\n# Using multiple filters on same field (implicit OR)\nGET /api/v4/core/ART?source=settings-2&filter[XART01]=1&filter[XART01]=2&filter[XART01]=3\n# WHERE XART01 = 1 OR XART01 = 2 OR XART01 = 3\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"special-trec-filtering",children:"Special TREC Filtering"}),"\n",(0,l.jsx)(n.h3,{id:"the-cond_trec-parameter",children:"The cond_trec Parameter"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Problem:"})," The platform automatically adds ",(0,l.jsx)(n.code,{children:"WHERE TREC NOT IN ('C')"})," to all queries to exclude soft-deleted records. You cannot override this default behavior using standard ",(0,l.jsx)(n.code,{children:"filter[TREC]"})," because it would be ANDed with the default condition."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solution:"})," Use the special ",(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"cond_trec"})," parameter"]})," to control TREC filtering behavior."]}),"\n",(0,l.jsx)(n.h3,{id:"default-behavior-no-cond_trec",children:"Default Behavior (No cond_trec)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2\n# Automatic SQL: WHERE TREC NOT IN ('C')\n# Returns only active records (TREC = 'N' or 'M')\n"})}),"\n",(0,l.jsx)(n.h3,{id:"explicit-default-cond_trecc",children:"Explicit Default (cond_trec=C)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&cond_trec=C\n# SQL: WHERE TREC NOT IN ('C')\n# Same as default - excludes cancelled records\n"})}),"\n",(0,l.jsx)(n.h3,{id:"custom-trec-exclusions",children:"Custom TREC Exclusions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exclude multiple TREC states:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&cond_trec=S,A\n# SQL: WHERE TREC NOT IN ('S', 'A')\n# Excludes records with TREC = 'S' or 'A'\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example Use Case:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Exclude both cancelled (C) and processed (P) records\nGET /api/v4/core/ORD?source=sales-1&cond_trec=C,P\n# SQL: WHERE TREC NOT IN ('C', 'P')\n# Returns only new (N) and modified (M) orders\n"})}),"\n",(0,l.jsx)(n.h3,{id:"bypass-trec-filter-cond_trecnull",children:"Bypass TREC Filter (cond_trec=null)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u26a0\ufe0f Warning: Returns ALL records including soft-deleted:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&cond_trec=null\n# SQL: No TREC filter applied\n# Returns all records: TREC = 'N', 'M', 'C', 'P'\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"When to use cond_trec=null:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Data migration/export (include deleted records)"}),"\n",(0,l.jsx)(n.li,{children:"Administrative auditing (view full history)"}),"\n",(0,l.jsx)(n.li,{children:"Restore deleted records workflow"}),"\n",(0,l.jsx)(n.li,{children:"Debugging data issues"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u26a0\ufe0f Caution:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Production UIs should NEVER use ",(0,l.jsx)(n.code,{children:"cond_trec=null"})," by default"]}),"\n",(0,l.jsx)(n.li,{children:"Soft-deleted records (TREC='C') are logically deleted"}),"\n",(0,l.jsx)(n.li,{children:"Only use when you explicitly need deleted records"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"filter-examples",children:"Filter Examples"}),"\n",(0,l.jsx)(n.h3,{id:"example-1-active-products-in-specific-category",children:"Example 1: Active Products in Specific Category"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART06]=1&filter[XART01]=2\n# WHERE XART06 = 1 AND XART01 = 2 AND TREC NOT IN ('C')\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Active products only (XART06 = 1)"}),"\n",(0,l.jsx)(n.li,{children:"In category 2 (XART01 = 2)"}),"\n",(0,l.jsx)(n.li,{children:"Not soft-deleted (TREC != 'C')"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-2-price-range-with-category-filter",children:"Example 2: Price Range with Category Filter"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART25][$gte]=50&filter[XART25][$lte]=100&filter[XART01]=3\n# WHERE XART25 >= 50 AND XART25 <= 100 AND XART01 = 3 AND TREC NOT IN ('C')\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Price between 50-100 (XART25)"}),"\n",(0,l.jsx)(n.li,{children:"Category 3 (XART01)"}),"\n",(0,l.jsx)(n.li,{children:"Active records only"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-3-search-products-by-name-pattern",children:"Example 3: Search Products by Name Pattern"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=%Widget%&filter[XART06]=1\n# WHERE XART20 LIKE '%Widget%' AND XART06 = 1 AND TREC NOT IN ('C')\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Product name contains "Widget"'}),"\n",(0,l.jsx)(n.li,{children:"Active products only"}),"\n",(0,l.jsx)(n.li,{children:"Not soft-deleted"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-4-recently-created-records",children:"Example 4: Recently Created Records"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[CDATA][$gte]=20251201000000\n# WHERE CDATA >= '20251201000000' AND TREC NOT IN ('C')\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Created on or after December 1, 2025"}),"\n",(0,l.jsx)(n.li,{children:"Active records only"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-5-multiple-categories-or",children:"Example 5: Multiple Categories (OR)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART01][$in]=1,2,3\n# WHERE XART01 IN (1, 2, 3) AND TREC NOT IN ('C')\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Products in category 1, 2, or 3"}),"\n",(0,l.jsx)(n.li,{children:"Active records only"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-6-include-deleted-records",children:"Example 6: Include Deleted Records"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&cond_trec=null&filter[XART01]=2\n# WHERE XART01 = 2\n# NO TREC filter - includes soft-deleted records\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"All products in category 2"}),"\n",(0,l.jsx)(n.li,{children:"Including soft-deleted (TREC='C')"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"case-sensitivity",children:"Case Sensitivity"}),"\n",(0,l.jsx)(n.h3,{id:"case-sensitive-filtering-default",children:"Case-Sensitive Filtering (Default)"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exact match required:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'GET /api/v4/core/ART?source=settings-2&filter[XART20]=Widget\n# WHERE XART20 = \'Widget\' (case-sensitive)\n# Matches: "Widget"\n# Does NOT match: "widget", "WIDGET", "WiDgEt"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"case-insensitive-filtering",children:"Case-Insensitive Filtering"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use LIKE with uppercase/lowercase:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'GET /api/v4/core/ART?source=settings-2&filter[UPPER(XART20)][$like]=%WIDGET%\n# WHERE UPPER(XART20) LIKE \'%WIDGET%\'\n# Matches: "Widget", "widget", "WIDGET", "WiDgEt Pro"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"filtering-by-related-dimensions",children:"Filtering by Related Dimensions"}),"\n",(0,l.jsx)(n.h3,{id:"filter-by-foreign-key-field",children:"Filter by Foreign Key Field"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter by AC/VARS field:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART53]=rep1\n# WHERE XART53 = 'rep1' (department code)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter by foreign key value (joined table):"})}),"\n",(0,l.jsx)(n.p,{children:"This requires using the Document API or $expand parameter (covered in separate sections)."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"filter-validation",children:"Filter Validation"}),"\n",(0,l.jsx)(n.h3,{id:"field-must-have-r-flag",children:"Field Must Have R Flag"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Only fields with COD_ON_OFF containing 'R' can be filtered:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- TB_COST example\nCOD_DIM: ART\nCOD_VAR: XART20\nCOD_ON_OFF: LDNMR  -- R flag present \u2192 can filter\n\nCOD_DIM: ART\nCOD_VAR: XART99\nCOD_ON_OFF: LD     -- No R flag \u2192 cannot filter\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Invalid Filter:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART99]=value\n# Error: Field XART99 does not have R flag - cannot be used in filters\n"})}),"\n",(0,l.jsx)(n.h3,{id:"error-response",children:"Error Response"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "status": 400,\n  "message": "Field XART99 cannot be used in filters (missing R flag in COD_ON_OFF)",\n  "code": "FIELD_NOT_FILTERABLE",\n  "field": "XART99"\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"indexed-fields",children:"Indexed Fields"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter on indexed fields for best performance:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Recommended indexes\nCREATE INDEX idx_art_active ON TB_ANAG_ART00(XART06);\nCREATE INDEX idx_art_category ON TB_ANAG_ART00(XART01);\nCREATE INDEX idx_art_created ON TB_ANAG_ART00(CDATA);\nCREATE INDEX idx_art_trec ON TB_ANAG_ART00(TREC);\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Fast queries:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - indexed field\nGET /api/v4/core/ART?source=settings-2&filter[XART06]=1\n\n# \u26a0\ufe0f Slow - LIKE with leading wildcard (full table scan)\nGET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=%Widget\n"})}),"\n",(0,l.jsx)(n.h3,{id:"limit-results",children:"Limit Results"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Always paginate large result sets:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART01]=2&$num_rows=100&$offset=0\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use specific operators:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - explicit operator\nGET /api/v4/core/ART?source=settings-2&filter[XART25][$gte]=50\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Combine multiple filters:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - narrow results\nGET /api/v4/core/ART?source=settings-2&filter[XART06]=1&filter[XART01]=2\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use $in for multiple values:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - single query parameter\nGET /api/v4/core/ART?source=settings-2&filter[XART01][$in]=1,2,3\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Filter on indexed fields:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - fast query\nGET /api/v4/core/ART?source=settings-2&filter[XART06]=1\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Don't use LIKE with leading wildcard:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - slow full table scan\nGET /api/v4/core/ART?source=settings-2&filter[XART20][$like]=%Widget\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Don't filter on non-indexed text fields:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - slow query\nGET /api/v4/core/ART?source=settings-2&filter[XART_DESCRIPTION][$like]=%long text%\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Don't use cond_trec=null in production UIs:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - includes deleted records\nGET /api/v4/core/ART?source=settings-2&cond_trec=null\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Don't fetch all records without filters:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - returns everything\nGET /api/v4/core/ART?source=settings-2\n\n# \u2705 Good - filtered and paginated\nGET /api/v4/core/ART?source=settings-2&filter[XART06]=1&$num_rows=100\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 Multiple filter operators: equals, $ne, $gt, $gte, $lt, $lte, $in, $nin, $like, $between, $isnull, $notnull"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Logical combinations: AND (multiple filters), OR ($in or same field)"}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Special TREC filtering via ",(0,l.jsx)(n.code,{children:"cond_trec"})," parameter"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 Default: ",(0,l.jsx)(n.code,{children:"TREC NOT IN ('C')"})," excludes soft-deleted records"]}),"\n",(0,l.jsxs)(n.li,{children:["\u2705 ",(0,l.jsx)(n.code,{children:"cond_trec=null"})," bypasses TREC filter (returns deleted records)"]}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Fields must have R flag in COD_ON_OFF to be filterable"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Case-sensitive by default, use UPPER() for case-insensitive"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Always paginate and filter on indexed fields for performance"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Use filter operators to narrow query results"}),"\n",(0,l.jsx)(n.li,{children:"Combine multiple filters with AND logic"}),"\n",(0,l.jsx)(n.li,{children:"Use $in operator for OR logic on same field"}),"\n",(0,l.jsx)(n.li,{children:"Default behavior excludes soft-deleted records (TREC='C')"}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"cond_trec"})," parameter for custom TREC filtering"]}),"\n",(0,l.jsx)(n.li,{children:"Only fields with R flag can be filtered"}),"\n",(0,l.jsx)(n.li,{children:"Filter on indexed fields for best performance"}),"\n",(0,l.jsx)(n.li,{children:"Always paginate large result sets"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-retrieval",children:"Field Retrieval"})," - Selecting which fields to return"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns",children:"Sorting"})," - Ordering query results"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination",children:"Pagination"})," - Limiting result sets"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/cod-on-off-flags",children:"COD_ON_OFF"})," - Field visibility flags"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/trec-lifecycle",children:"TREC Lifecycle"})," - Record states"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},2172:(e,n,i)=>{i.d(n,{I:()=>c,M:()=>t});var l=i(1504);const r={},s=l.createContext(r);function t(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);