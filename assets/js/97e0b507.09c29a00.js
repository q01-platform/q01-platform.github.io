"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[4447],{1640:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var i=s(7624),r=s(2172);const l={title:"Field Retrieval",sidebar_label:"Field Retrieval",sidebar_position:5,description:"Control which fields are returned using COD_ON_OFF, center_dett, forceListCost, $fields, and debug parameters"},t="Field Retrieval",d={id:"products/map.q01.io/core-api-platform-v4/query-patterns/field-retrieval",title:"Field Retrieval",description:"Control which fields are returned using COD_ON_OFF, center_dett, forceListCost, $fields, and debug parameters",source:"@site/docs/products/map.q01.io/core-api-platform-v4/03-query-patterns/field-retrieval.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/03-query-patterns",slug:"/products/map.q01.io/core-api-platform-v4/query-patterns/field-retrieval",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-retrieval",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Field Retrieval",sidebar_label:"Field Retrieval",sidebar_position:5,description:"Control which fields are returned using COD_ON_OFF, center_dett, forceListCost, $fields, and debug parameters"},sidebar:"mapSidebar",previous:{title:"Pagination",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination"},next:{title:"Sorting Patterns",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns"}},a={},c=[{value:"Overview",id:"overview",level:2},{value:"center_dett to COD_ON_OFF Mapping",id:"center_dett-to-cod_on_off-mapping",level:2},{value:"Mapping Table",id:"mapping-table",level:3},{value:"Examples",id:"examples",level:3},{value:"forceListCost Parameter",id:"forcelistcost-parameter",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Example",id:"example",level:3},{value:"forceListCost vs $fields",id:"forcelistcost-vs-fields",level:3},{value:"$fields Parameter",id:"fields-parameter",level:2},{value:"Syntax",id:"syntax-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"$group Parameter",id:"group-parameter",level:2},{value:"Syntax",id:"syntax-2",level:3},{value:"Example: Get Distinct Values",id:"example-get-distinct-values",level:3},{value:"Example: Count by Category",id:"example-count-by-category",level:3},{value:"Example: Sum by Department",id:"example-sum-by-department",level:3},{value:"debug Parameter",id:"debug-parameter",level:2},{value:"Syntax",id:"syntax-3",level:3},{value:"Example",id:"example-1",level:3},{value:"Example: Debug Complex Query",id:"example-debug-complex-query",level:3},{value:"Metadata Fields",id:"metadata-fields",level:2},{value:"Field Selection Decision Tree",id:"field-selection-decision-tree",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Reduce Response Size",id:"reduce-response-size",level:3},{value:"Use Appropriate center_dett",id:"use-appropriate-center_dett",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"field-retrieval",children:"Field Retrieval"}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["Field retrieval in Q01 Core APIs is controlled by ",(0,i.jsx)(n.strong,{children:"metadata-driven visibility rules"})," and query parameters. The platform determines which fields to return based on COD_ON_OFF flags, center_dett parameter, and field selection parameters."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 COD_ON_OFF flags control field visibility"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 center_dett parameter selects view mode (visualizza, dettaglio, nuovo, edit, allviews)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 forceListCost bypasses center_dett rules for specific fields"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 $fields parameter for explicit field selection"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 $group parameter for SQL GROUP BY aggregation"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 debug=true to see generated SQL"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Metadata fields always included (ID, OWNER, CDATA, LOWNER, LDATA, TIMESTAMP, TREC)"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"center_dett-to-cod_on_off-mapping",children:"center_dett to COD_ON_OFF Mapping"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"center_dett"})," query parameter determines which COD_ON_OFF flag is required for a field to be visible in the response."]}),"\n",(0,i.jsx)(n.h3,{id:"mapping-table",children:"Mapping Table"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"center_dett"}),(0,i.jsx)(n.th,{children:"COD_ON_OFF Flag Required"}),(0,i.jsx)(n.th,{children:"Use Case"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"visualizza"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"L"})," (List)"]}),(0,i.jsx)(n.td,{children:"List views, table grids"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"dettaglio"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"D"})," (Detail)"]}),(0,i.jsx)(n.td,{children:"Detail/edit views, single record display"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"nuovo"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"R"})," (Search/Filter)"]}),(0,i.jsx)(n.td,{children:"Search forms, filter interfaces"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"edit"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"N"})," (New/Create)"]}),(0,i.jsx)(n.td,{children:"Create forms, new record entry"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"allviews"})}),(0,i.jsx)(n.td,{children:"(ignored)"}),(0,i.jsx)(n.td,{children:"Return ALL fields regardless of COD_ON_OFF"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If field's COD_ON_OFF doesn't contain the required flag \u2192 field is ",(0,i.jsx)(n.strong,{children:"not returned"})]}),"\n",(0,i.jsxs)(n.li,{children:["Metadata fields (ID, OWNER, CDATA, etc.) are ",(0,i.jsx)(n.strong,{children:"always"})," returned regardless of COD_ON_OFF"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Field Visibility by center_dett:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- TB_COST example\nCOD_DIM: ART\nCOD_VAR: XART20\nCOD_ON_OFF: LDNMR  -- Has all flags\n\nCOD_DIM: ART\nCOD_VAR: XART21\nCOD_ON_OFF: D      -- Only D flag (detail only)\n\nCOD_DIM: ART\nCOD_VAR: XART22\nCOD_ON_OFF: LDR    -- L, D, R flags (list, detail, search)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query with center_dett=visualizza (requires L flag):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART/123?source=settings-2&center_dett=visualizza\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response includes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 XART20 (has L flag)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c XART21 (no L flag - excluded)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 XART22 (has L flag)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 ID, OWNER, CDATA, LOWNER, LDATA, TIMESTAMP, TREC (always included)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query with center_dett=dettaglio (requires D flag):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART/123?source=settings-2&center_dett=dettaglio\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response includes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 XART20 (has D flag)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 XART21 (has D flag)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 XART22 (has D flag)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Metadata fields"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query with center_dett=allviews (no flag requirement):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART/123?source=settings-2&center_dett=allviews\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response includes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 XART20"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 XART21"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 XART22"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 ALL other fields in dimension (ignores COD_ON_OFF completely)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Metadata fields"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"forcelistcost-parameter",children:"forceListCost Parameter"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"forceListCost"})," parameter ",(0,i.jsx)(n.strong,{children:"bypasses center_dett rules"})," and returns only the specified fields plus metadata fields."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use Case:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Custom field selection independent of COD_ON_OFF"}),"\n",(0,i.jsx)(n.li,{children:"Client-side rendering with specific fields"}),"\n",(0,i.jsx)(n.li,{children:"Performance optimization (reduce response size)"}),"\n",(0,i.jsx)(n.li,{children:"API integrations that need predictable field sets"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"?forceListCost=FIELD1,FIELD2,FIELD3\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request with forceListCost:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&forceListCost=XART20,XART21,XART25\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SQL Generated:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT\n    ART_ID,\n    OWNER,\n    CDATA,\n    LOWNER,\n    LDATA,\n    TIMESTAMP,\n    TREC,\n    XART20,\n    XART21,\n    XART25\nFROM TB_ANAG_ART00\nWHERE TREC NOT IN ('C')\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "ART_ID": 123,\n    "OWNER": "SYS",\n    "CDATA": "20251219120000",\n    "LOWNER": "user@example.com",\n    "LDATA": "20251219140000",\n    "TIMESTAMP": "2025-12-19T14:00:00Z",\n    "TREC": "M",\n    "XART20": "Widget Pro",\n    "XART21": "10",\n    "XART25": "99.99"\n  }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Points:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Only requested fields + metadata returned"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 COD_ON_OFF ignored"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 center_dett ignored"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Reduces response size"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Predictable field set"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"forcelistcost-vs-fields",children:"forceListCost vs $fields"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"forceListCost:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Always includes metadata fields (ID, OWNER, CDATA, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Bypasses COD_ON_OFF completely"}),"\n",(0,i.jsx)(n.li,{children:"Returns ONLY specified fields + metadata"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"$fields:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Can exclude metadata fields"}),"\n",(0,i.jsx)(n.li,{children:"Still respects COD_ON_OFF (unless center_dett=allviews)"}),"\n",(0,i.jsx)(n.li,{children:"More flexible for fine-grained selection"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Comparison:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# forceListCost - includes metadata\nGET /api/v4/core/ART?source=settings-2&forceListCost=XART20\n# Returns: ID, OWNER, CDATA, LOWNER, LDATA, TIMESTAMP, TREC, XART20\n\n# $fields - can exclude metadata\nGET /api/v4/core/ART?source=settings-2&$fields=XART20\n# Returns: XART20 only (no metadata unless explicitly requested)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fields-parameter",children:"$fields Parameter"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"$fields"})," parameter allows explicit selection of which fields to return."]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-1",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"?$fields=FIELD1,FIELD2,FIELD3\n"})}),"\n",(0,i.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Select specific fields:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&$fields=XART20,XART25,XART53\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "XART20": "Widget Pro",\n    "XART25": "99.99",\n    "XART53": "rep1"\n  }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Include metadata fields explicitly:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&$fields=ART_ID,XART20,XART25\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "ART_ID": 123,\n    "XART20": "Widget Pro",\n    "XART25": "99.99"\n  }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only specified fields returned"}),"\n",(0,i.jsx)(n.li,{children:"COD_ON_OFF still applies (unless center_dett=allviews)"}),"\n",(0,i.jsx)(n.li,{children:"Metadata NOT automatically included (unlike forceListCost)"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"group-parameter",children:"$group Parameter"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"$group"})," parameter enables SQL GROUP BY aggregation."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use Case:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Aggregate data (count, sum, average, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Distinct value selection"}),"\n",(0,i.jsx)(n.li,{children:"Reporting and analytics queries"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-2",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"?$select=FIELD&$group=FIELD\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," Must use ",(0,i.jsx)(n.code,{children:"$select"})," to specify aggregation fields."]}),"\n",(0,i.jsx)(n.h3,{id:"example-get-distinct-values",children:"Example: Get Distinct Values"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/BCODE?source=settings-2&$select=XBCODE10&$group=XBCODE10\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SQL Generated:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT XBCODE10\nFROM TB_ANAG_BCODE00\nWHERE TREC NOT IN ('C')\nGROUP BY XBCODE10\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  { "XBCODE10": "ean13" },\n  { "XBCODE10": "ean8" },\n  { "XBCODE10": "code39" },\n  { "XBCODE10": "qrcode" }\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-count-by-category",children:"Example: Count by Category"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&$select=XART01,COUNT(*) as total&$group=XART01\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SQL Generated:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT XART01, COUNT(*) as total\nFROM TB_ANAG_ART00\nWHERE TREC NOT IN ('C')\nGROUP BY XART01\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  { "XART01": "1", "total": 42 },\n  { "XART01": "2", "total": 38 },\n  { "XART01": "3", "total": 25 }\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-sum-by-department",children:"Example: Sum by Department"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&$select=XART53,SUM(XART25) as total_price&$group=XART53\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SQL Generated:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT XART53, SUM(XART25) as total_price\nFROM TB_ANAG_ART00\nWHERE TREC NOT IN ('C')\nGROUP BY XART53\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  { "XART53": "rep1", "total_price": 12450.00 },\n  { "XART53": "rep2", "total_price": 8930.50 },\n  { "XART53": "rep3", "total_price": 15200.75 }\n]\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"debug-parameter",children:"debug Parameter"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"debug=true"})," parameter returns the generated SQL query in metadata."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use Case:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query optimization and troubleshooting"}),"\n",(0,i.jsx)(n.li,{children:"Understanding how filters translate to SQL"}),"\n",(0,i.jsx)(n.li,{children:"Performance debugging"}),"\n",(0,i.jsx)(n.li,{children:"Learning SQL generation patterns"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-3",children:"Syntax"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"?debug=true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART06]=1&filter[XART01]=2&debug=true\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "metadata": true,\n    "sql": "select SQL_CALC_FOUND_ROWS `ART_ID`, `OWNER`, `CDATA`, `LOWNER`, `LDATA`, `TIMESTAMP`, `TREC`, `XART01`, `XART03`, `XART20`, `XART21`, `XART25`, `XART53` from `TB_ANAG_ART00` where `TREC` not in (\'C\') and `XART06` = 1 and `XART01` = 2 limit 100"\n  },\n  {\n    "ART_ID": 123,\n    "OWNER": "SYS",\n    "XART20": "Widget Pro",\n    ...\n  }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Metadata Object Fields:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"metadata: true"})," - Identifies metadata record"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sql"})," - Complete generated SQL query"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 See exact SQL executed"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Identify missing indexes"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Understand filter translation"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Debug performance issues"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Learn query patterns"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-debug-complex-query",children:"Example: Debug Complex Query"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ART?source=settings-2&filter[XART25][$gte]=50&filter[XART25][$lte]=100&$fields=XART20,XART25&$num_rows=10&debug=true\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "metadata": true,\n    "sql": "select SQL_CALC_FOUND_ROWS `XART20`, `XART25` from `TB_ANAG_ART00` where `TREC` not in (\'C\') and `XART25` >= 50 and `XART25` <= 100 limit 10"\n  },\n  {\n    "XART20": "Widget Standard",\n    "XART25": "59.99"\n  },\n  {\n    "XART20": "Widget Pro",\n    "XART25": "99.99"\n  }\n]\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use EXPLAIN:"}),"\nCopy SQL from debug output and run EXPLAIN to analyze query execution plan:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"EXPLAIN select SQL_CALC_FOUND_ROWS `XART20`, `XART25` from `TB_ANAG_ART00` where `TREC` not in ('C') and `XART25` >= 50 and `XART25` <= 100 limit 10;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"metadata-fields",children:"Metadata Fields"}),"\n",(0,i.jsxs)(n.p,{children:["The following fields are ",(0,i.jsx)(n.strong,{children:"always included"})," in responses (except when using $fields without explicit metadata selection):"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{DIM}_ID"})}),(0,i.jsx)(n.td,{children:"Primary key (auto-increment)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ART_ID: 123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"OWNER"})}),(0,i.jsx)(n.td,{children:"Creator user"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'OWNER: "SYS"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CDATA"})}),(0,i.jsx)(n.td,{children:"Creation timestamp"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'CDATA: "20251219120000"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LOWNER"})}),(0,i.jsx)(n.td,{children:"Last modifier user"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'LOWNER: "user@example.com"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LDATA"})}),(0,i.jsx)(n.td,{children:"Last modification timestamp"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'LDATA: "20251219140000"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TIMESTAMP"})}),(0,i.jsx)(n.td,{children:"ISO 8601 timestamp"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'TIMESTAMP: "2025-12-19T14:00:00Z"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TREC"})}),(0,i.jsx)(n.td,{children:"Transaction record state"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'TREC: "M"'})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Metadata Fields Behavior:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# forceListCost - includes metadata automatically\nGET /api/v4/core/ART?source=settings-2&forceListCost=XART20\n# Returns: ART_ID, OWNER, CDATA, LOWNER, LDATA, TIMESTAMP, TREC, XART20\n\n# $fields - must explicitly request metadata\nGET /api/v4/core/ART?source=settings-2&$fields=XART20\n# Returns: XART20 only\n\n# $fields with metadata\nGET /api/v4/core/ART?source=settings-2&$fields=ART_ID,TREC,XART20\n# Returns: ART_ID, TREC, XART20\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"field-selection-decision-tree",children:"Field Selection Decision Tree"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Need specific fields only?\n    \u2193\nYES \u2192 Use forceListCost (includes metadata)\n    OR $fields (exclude metadata for minimal response)\n    \u2193\nNO \u2192 Need all fields?\n    \u2193\n    YES \u2192 Use center_dett=allviews\n    \u2193\n    NO \u2192 Use appropriate center_dett:\n        - visualizza (list views) \u2192 L flag\n        - dettaglio (detail views) \u2192 D flag\n        - nuovo (search forms) \u2192 R flag\n        - edit (create forms) \u2192 N flag\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use forceListCost for custom field sets:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - explicit field selection with metadata\nGET /api/v4/core/ART?source=settings-2&forceListCost=XART20,XART25\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use center_dett=allviews for administrative interfaces:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - all fields for admin panels\nGET /api/v4/core/ART/123?source=settings-2&center_dett=allviews\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use $group for aggregations:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - distinct values\nGET /api/v4/core/BCODE?source=settings-2&$select=XBCODE10&$group=XBCODE10\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use debug for query optimization:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 Good - understand SQL generation\nGET /api/v4/core/ART?source=settings-2&debug=true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't use center_dett=allviews in production list views:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - returns too many fields, slow query\nGET /api/v4/core/ART?source=settings-2&center_dett=allviews\n\n# \u2705 Good - only list-view fields (L flag)\nGET /api/v4/core/ART?source=settings-2&center_dett=visualizza\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't rely on COD_ON_OFF for field security:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - sensitive fields should be removed at database level\n# COD_ON_OFF is for UI visibility, not security\n\n# \u2705 Good - use database views or column-level permissions for security\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't use $group without $select:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - GROUP BY without aggregate functions\nGET /api/v4/core/ART?source=settings-2&$group=XART01\n\n# \u2705 Good - explicit SELECT with GROUP BY\nGET /api/v4/core/ART?source=settings-2&$select=XART01,COUNT(*) as total&$group=XART01\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,i.jsx)(n.h3,{id:"reduce-response-size",children:"Reduce Response Size"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Select only needed fields:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Instead of returning all 50+ fields\nGET /api/v4/core/ART?source=settings-2\n\n# Return only required fields\nGET /api/v4/core/ART?source=settings-2&forceListCost=XART20,XART25,XART53\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Impact:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Smaller JSON payload"}),"\n",(0,i.jsx)(n.li,{children:"Faster network transfer"}),"\n",(0,i.jsx)(n.li,{children:"Lower client-side parsing overhead"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"use-appropriate-center_dett",children:"Use Appropriate center_dett"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List view - only essential fields (L flag)\nGET /api/v4/core/ART?source=settings-2&center_dett=visualizza\n\n# Detail view - more fields (D flag)\nGET /api/v4/core/ART/123?source=settings-2&center_dett=dettaglio\n\n# Admin - all fields (use sparingly)\nGET /api/v4/core/ART/123?source=settings-2&center_dett=allviews\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 center_dett maps to COD_ON_OFF flags (visualizza=L, dettaglio=D, nuovo=R, edit=N, allviews=ignore)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 forceListCost bypasses COD_ON_OFF and returns specified fields + metadata"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 $fields allows explicit field selection (metadata NOT auto-included)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 $group enables SQL GROUP BY aggregation"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 debug=true returns generated SQL in metadata"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Metadata fields (ID, OWNER, CDATA, etc.) always included with forceListCost"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Use appropriate center_dett for performance (visualizza for lists, dettaglio for details)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"center_dett controls which COD_ON_OFF flag is required"}),"\n",(0,i.jsx)(n.li,{children:"forceListCost is best for custom field sets (includes metadata)"}),"\n",(0,i.jsx)(n.li,{children:"$fields provides minimal responses (exclude metadata)"}),"\n",(0,i.jsx)(n.li,{children:"$group enables aggregation and reporting"}),"\n",(0,i.jsx)(n.li,{children:"debug=true helps optimize queries"}),"\n",(0,i.jsx)(n.li,{children:"Choose right center_dett for use case (visualizza, dettaglio, allviews)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/cod-on-off-flags",children:"COD_ON_OFF"})," - Field visibility flags"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/filtering",children:"Filtering"})," - Query filtering with operators"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns",children:"Sorting"})," - Ordering results"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/pagination",children:"Pagination"})," - Limiting result sets"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/field-visibility",children:"Field Visibility"})," - Deep dive on COD_ON_OFF"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},2172:(e,n,s)=>{s.d(n,{I:()=>d,M:()=>t});var i=s(1504);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);