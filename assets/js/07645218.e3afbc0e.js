"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[4016],{3412:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=i(7624),s=i(2172);const l={title:"Complex Filters",sidebar_label:"Complex Filters",sidebar_position:2,description:"Advanced filtering with AND/OR combinations and nested conditions"},t="Complex Filters",c={id:"products/map.q01.io/core-api-platform-v4/query-patterns/complex-filters",title:"Complex Filters",description:"Advanced filtering with AND/OR combinations and nested conditions",source:"@site/docs/products/map.q01.io/core-api-platform-v4/03-query-patterns/complex-filters.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/03-query-patterns",slug:"/products/map.q01.io/core-api-platform-v4/query-patterns/complex-filters",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/complex-filters",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Complex Filters",sidebar_label:"Complex Filters",sidebar_position:2,description:"Advanced filtering with AND/OR combinations and nested conditions"},sidebar:"mapSidebar",previous:{title:"Basic Queries",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/basic-queries"},next:{title:"Field Projection",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-projection"}},a={},d=[{value:"Overview",id:"overview",level:2},{value:"AND Operator",id:"and-operator",level:2},{value:"Multiple AND Conditions",id:"multiple-and-conditions",level:3},{value:"Three or More AND Conditions",id:"three-or-more-and-conditions",level:3},{value:"OR Operator",id:"or-operator",level:2},{value:"Simple OR Condition",id:"simple-or-condition",level:3},{value:"Multiple OR Conditions",id:"multiple-or-conditions",level:3},{value:"Combining AND/OR",id:"combining-andor",level:2},{value:"OR with AND",id:"or-with-and",level:3},{value:"Complex Example",id:"complex-example",level:3},{value:"Text Search Functions",id:"text-search-functions",level:2},{value:"contains() - Search Text",id:"contains---search-text",level:3},{value:"startwith() - Starts With",id:"startwith---starts-with",level:3},{value:"endwith() - Ends With",id:"endwith---ends-with",level:3},{value:"Text Search with AND",id:"text-search-with-and",level:3},{value:"Case Sensitivity",id:"case-sensitivity",level:3},{value:"IN Operator",id:"in-operator",level:2},{value:"Multiple Values",id:"multiple-values",level:3},{value:"IN with Numbers",id:"in-with-numbers",level:3},{value:"IN with AND",id:"in-with-and",level:3},{value:"Nested Conditions",id:"nested-conditions",level:2},{value:"Grouping with Parentheses",id:"grouping-with-parentheses",level:3},{value:"Three-Level Nesting",id:"three-level-nesting",level:3},{value:"Range Queries",id:"range-queries",level:2},{value:"Between (Using AND)",id:"between-using-and",level:3},{value:"Date Ranges",id:"date-ranges",level:3},{value:"Exclude Range (Using OR)",id:"exclude-range-using-or",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Index Usage",id:"index-usage",level:3},{value:"AND Before OR",id:"and-before-or",level:3},{value:"Avoid Complex OR",id:"avoid-complex-or",level:3},{value:"Limit OR Depth",id:"limit-or-depth",level:3},{value:"JavaScript Examples",id:"javascript-examples",level:2},{value:"Complex Filter Builder",id:"complex-filter-builder",level:3},{value:"Dynamic Search",id:"dynamic-search",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Missing Parentheses",id:"mistake-1-missing-parentheses",level:3},{value:"Mistake 2: String Quoting in IN",id:"mistake-2-string-quoting-in-in",level:3},{value:"Mistake 3: Operator Precedence",id:"mistake-3-operator-precedence",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"complex-filters",children:"Complex Filters"}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Complex filters combine multiple conditions using logical operators (AND, OR) to create sophisticated queries. This page covers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AND/OR logical operators"}),"\n",(0,r.jsx)(n.li,{children:"Nested conditions with parentheses"}),"\n",(0,r.jsx)(n.li,{children:"text search functions for partial matching"}),"\n",(0,r.jsx)(n.li,{children:"IN operator for multiple values"}),"\n",(0,r.jsx)(n.li,{children:"Performance optimization for complex filters"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"and-operator",children:"AND Operator"}),"\n",(0,r.jsx)(n.h3,{id:"multiple-and-conditions",children:"Multiple AND Conditions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Filter active products in Electronics category:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD06 eq true AND XPRD05 eq 'Electronics'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE XPRD06 = 1\n  AND XPRD05 = 'Electronics'\n  AND XPRD01_AMBIENTE IN (...)\n  AND TREC != 'C'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"three-or-more-and-conditions",children:"Three or More AND Conditions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Filter by category, price range, and status:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD05 eq 'Electronics' AND XPRD02 gt 100 AND XPRD02 lt 500 AND XPRD06 eq true\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE XPRD05 = 'Electronics'\n  AND XPRD02 > 100\n  AND XPRD02 < 500\n  AND XPRD06 = 1\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Result:"})," Electronics products priced between $100-$500 that are active."]}),"\n",(0,r.jsx)(n.h2,{id:"or-operator",children:"OR Operator"}),"\n",(0,r.jsx)(n.h3,{id:"simple-or-condition",children:"Simple OR Condition"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products in Electronics OR Toys category:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD05 eq 'Electronics' OR XPRD05 eq 'Toys'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE (XPRD05 = 'Electronics' OR XPRD05 = 'Toys')\n  AND XPRD01_AMBIENTE IN (...)\n  AND TREC != 'C'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"multiple-or-conditions",children:"Multiple OR Conditions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products with multiple status values:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD13 eq 'active' OR XPRD13 eq 'pending' OR XPRD13 eq 'review'\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Better alternative:"})," Use IN operator (see below)."]}),"\n",(0,r.jsx)(n.h2,{id:"combining-andor",children:"Combining AND/OR"}),"\n",(0,r.jsx)(n.h3,{id:"or-with-and",children:"OR with AND"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find active products in either Electronics or Toys:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=(XPRD05 eq 'Electronics' OR XPRD05 eq 'Toys') AND XPRD06 eq true\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE (XPRD05 = 'Electronics' OR XPRD05 = 'Toys')\n  AND XPRD06 = 1\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Parentheses are critical"})," - they control evaluation order."]}),"\n",(0,r.jsx)(n.h3,{id:"complex-example",children:"Complex Example"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find high-value products in specific categories:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=(XPRD05 eq 'Electronics' OR XPRD05 eq 'Appliances') AND XPRD02 gt 500 AND XPRD06 eq true\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Category must be Electronics OR Appliances"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AND"})," price must be > $500"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AND"})," product must be active"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"text-search-functions",children:"Text Search Functions"}),"\n",(0,r.jsx)(n.h3,{id:"contains---search-text",children:"contains() - Search Text"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Find products with "Widget" in name:'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=contains(XPRD01,'Widget')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE contains(XPRD01,'Widget')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Matches:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"Premium Widget"'}),"\n",(0,r.jsx)(n.li,{children:'"Widget Pro"'}),"\n",(0,r.jsx)(n.li,{children:'"Super Widget 2000"'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"startwith---starts-with",children:"startwith() - Starts With"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Find products starting with "Pro":'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=startwith(XPRD01,'Pro')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Matches:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"Pro Widget"'}),"\n",(0,r.jsx)(n.li,{children:'"Professional Tool"'}),"\n",(0,r.jsx)(n.li,{children:'"Product X"'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"endwith---ends-with",children:"endwith() - Ends With"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Find products ending with "2025":'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=endwith(XPRD03,'2025')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Matches:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"PRD-001-2025"'}),"\n",(0,r.jsx)(n.li,{children:'"WDG-2025"'}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"text-search-with-and",children:"Text Search with AND"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Search active products with specific name:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=contains(XPRD01,'Widget') AND XPRD06 eq true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"case-sensitivity",children:"Case Sensitivity"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Text search functions are case-insensitive by default (MySQL):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'$filter=contains(XPRD01,\'widget\')\n# Matches: "Widget", "WIDGET", "widget"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For case-sensitive search (Oracle):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Depends on database collation"}),"\n",(0,r.jsx)(n.li,{children:"May require LOWER() function in custom queries"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"in-operator",children:"IN Operator"}),"\n",(0,r.jsx)(n.h3,{id:"multiple-values",children:"Multiple Values"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products in multiple categories:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD05 in ('Electronics','Toys','Appliances')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE XPRD05 IN ('Electronics', 'Toys', 'Appliances')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"More efficient than:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Less efficient\n$filter=XPRD05 eq 'Electronics' OR XPRD05 eq 'Toys' OR XPRD05 eq 'Appliances'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"in-with-numbers",children:"IN with Numbers"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products with specific IDs:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=PRD_ID in (123,456,789)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"in-with-and",children:"IN with AND"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find specific products that are active:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=PRD_ID in (123,456,789) AND XPRD06 eq true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"nested-conditions",children:"Nested Conditions"}),"\n",(0,r.jsx)(n.h3,{id:"grouping-with-parentheses",children:"Grouping with Parentheses"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Complex business logic:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=(XPRD05 eq 'Electronics' AND XPRD02 gt 1000) OR (XPRD05 eq 'Jewelry' AND XPRD02 gt 500)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["(Electronics products > $1000) ",(0,r.jsx)(n.strong,{children:"OR"})]}),"\n",(0,r.jsx)(n.li,{children:"(Jewelry products > $500)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE (XPRD05 = 'Electronics' AND XPRD02 > 1000)\n   OR (XPRD05 = 'Jewelry' AND XPRD02 > 500)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"three-level-nesting",children:"Three-Level Nesting"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Advanced filtering:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=((XPRD05 eq 'Electronics' OR XPRD05 eq 'Computers') AND XPRD02 gt 500) OR (XPRD30 eq true AND XPRD02 gt 100)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Logic:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["((Electronics OR Computers) AND price > $500) ",(0,r.jsx)(n.strong,{children:"OR"})]}),"\n",(0,r.jsx)(n.li,{children:"(Featured products AND price > $100)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f Warning:"})," Deep nesting can hurt performance and readability."]}),"\n",(0,r.jsx)(n.h2,{id:"range-queries",children:"Range Queries"}),"\n",(0,r.jsx)(n.h3,{id:"between-using-and",children:"Between (Using AND)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products priced between $100-$500:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD02 ge 100 AND XPRD02 le 500\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generated SQL:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"WHERE XPRD02 >= 100 AND XPRD02 <= 500\n"})}),"\n",(0,r.jsx)(n.h3,{id:"date-ranges",children:"Date Ranges"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find orders created in December 2025:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/ORD?source=orderList&\\\n  $filter=CDATA ge '20251201000000' AND CDATA le '20251231235959'\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," CDATA format is ",(0,r.jsx)(n.code,{children:"YmdHis"})," (14 characters)."]}),"\n",(0,r.jsx)(n.h3,{id:"exclude-range-using-or",children:"Exclude Range (Using OR)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Find products under $50 OR over $500:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $filter=XPRD02 lt 50 OR XPRD02 gt 500\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"index-usage",children:"Index Usage"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Good - Uses index on XPRD05:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD05 eq 'Electronics'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Bad - Can't use index efficiently:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=contains(XPRD01,'Widget')  # Leading wildcard\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Better - Can use index:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=startwith(XPRD01,'Widget')  # No leading wildcard\n"})}),"\n",(0,r.jsx)(n.h3,{id:"and-before-or",children:"AND Before OR"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Good - AND filters first (reduces result set):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD06 eq true AND (XPRD05 eq 'Electronics' OR XPRD05 eq 'Toys')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Less efficient - OR first (larger intermediate result):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=(XPRD05 eq 'Electronics' OR XPRD05 eq 'Toys') AND XPRD06 eq true\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Modern query optimizers handle this, but explicit AND-first is clearer."]}),"\n",(0,r.jsx)(n.h3,{id:"avoid-complex-or",children:"Avoid Complex OR"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Slow - Many OR conditions:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD05 eq 'A' OR XPRD05 eq 'B' OR ... OR XPRD05 eq 'Z'\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Fast - Use IN:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD05 in ('A','B',...,'Z')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"limit-or-depth",children:"Limit OR Depth"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u274c Bad - Deep nesting:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=((A OR B) AND (C OR D)) OR ((E OR F) AND (G OR H))\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Better - Split into multiple simpler queries:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Query 1: (A OR B) AND (C OR D)\n// Query 2: (E OR F) AND (G OR H)\n// Merge results client-side\n"})}),"\n",(0,r.jsx)(n.h2,{id:"javascript-examples",children:"JavaScript Examples"}),"\n",(0,r.jsx)(n.h3,{id:"complex-filter-builder",children:"Complex Filter Builder"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"class FilterBuilder {\n  constructor() {\n    this.conditions = [];\n  }\n\n  add(field, operator, value) {\n    if (typeof value === 'string') {\n      this.conditions.push(`${field} ${operator} '${value}'`);\n    } else {\n      this.conditions.push(`${field} ${operator} ${value}`);\n    }\n    return this;\n  }\n\n  and() {\n    return this;\n  }\n\n  or() {\n    // Mark last condition for OR grouping\n    this.conditions[this.conditions.length - 1] += ' OR';\n    return this;\n  }\n\n  build() {\n    return this.conditions.join(' AND ').replace(/ OR AND /g, ' OR ');\n  }\n}\n\n// Usage\nconst filter = new FilterBuilder()\n  .add('XPRD05', 'eq', 'Electronics')\n  .and()\n  .add('XPRD02', 'gt', 100)\n  .and()\n  .add('XPRD06', 'eq', true)\n  .build();\n\n// Result: \"XPRD05 eq 'Electronics' AND XPRD02 gt 100 AND XPRD06 eq true\"\n"})}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-search",children:"Dynamic Search"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"async function searchProducts(searchCriteria) {\n  const filters = [];\n\n  // Add category filter\n  if (searchCriteria.categories && searchCriteria.categories.length) {\n    const categoryList = searchCriteria.categories.map(c => `'${c}'`).join(',');\n    filters.push(`XPRD05 in (${categoryList})`);\n  }\n\n  // Add price range\n  if (searchCriteria.minPrice) {\n    filters.push(`XPRD02 ge ${searchCriteria.minPrice}`);\n  }\n  if (searchCriteria.maxPrice) {\n    filters.push(`XPRD02 le ${searchCriteria.maxPrice}`);\n  }\n\n  // Add text search\n  if (searchCriteria.searchText) {\n    filters.push(`contains(XPRD01,'${searchCriteria.searchText}')`);\n  }\n\n  // Add active filter\n  filters.push('XPRD06 eq true');\n\n  // Combine with AND\n  const $filter = filters.join(' AND ');\n\n  const url = new URL(`${apiBase}/api/v4/core/PRD`);\n  url.searchParams.append('source', 'productList');\n  url.searchParams.append('$filter', $filter);\n\n  const response = await fetch(url, {\n    headers: { 'Authorization': `Bearer ${token}` }\n  });\n\n  return response.json();\n}\n\n// Usage\nconst results = await searchProducts({\n  categories: ['Electronics', 'Computers'],\n  minPrice: 100,\n  maxPrice: 500,\n  searchText: 'Pro'\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use IN for multiple values:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD05 in ('Electronics','Toys')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Group OR conditions with parentheses:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=(A OR B) AND C\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use indexed fields in filters:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=XPRD03 eq 'PRD-2025-001'  # XPRD03 is counter (indexed)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Avoid leading wildcards in LIKE:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$filter=startwith(XPRD01,'Widget')  # \u2705 Can use index\n"})}),"\n",(0,r.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Don't use multiple OR when IN works:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad\n$filter=A eq 'X' OR A eq 'Y' OR A eq 'Z'\n\n# \u2705 Good\n$filter=A in ('X','Y','Z')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Don't nest too deeply:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Bad - hard to read and maintain\n$filter=(((A OR B) AND (C OR D)) OR ((E OR F) AND (G OR H)))\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Don't use LIKE with leading wildcard on large tables:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Slow on 100k+ rows\n$filter=contains(XPRD04,'text')\n"})}),"\n",(0,r.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,r.jsx)(n.h3,{id:"mistake-1-missing-parentheses",children:"Mistake 1: Missing Parentheses"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Wrong - unexpected precedence\n$filter=A eq 1 OR B eq 2 AND C eq 3\n\n# Evaluates as: A eq 1 OR (B eq 2 AND C eq 3)\n\n# \u2705 Correct - explicit grouping\n$filter=(A eq 1 OR B eq 2) AND C eq 3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mistake-2-string-quoting-in-in",children:"Mistake 2: String Quoting in IN"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Wrong\n$filter=XPRD05 in (Electronics,Toys)\n\n# \u2705 Correct\n$filter=XPRD05 in ('Electronics','Toys')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mistake-3-operator-precedence",children:"Mistake 3: Operator Precedence"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"AND has higher precedence than OR:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# This filter:\nA OR B AND C\n\n# Evaluates as:\nA OR (B AND C)\n\n# Not as:\n(A OR B) AND C\n\n# Always use parentheses!\n"})}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Complex filters enable sophisticated queries:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"AND"})," combines multiple required conditions"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"OR"})," matches any of multiple conditions"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"LIKE"})," enables partial text matching"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"IN"})," efficiently checks multiple values"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Parentheses"})," control evaluation order"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Performance"})," depends on indexes and filter structure"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Use parentheses to make logic explicit"}),"\n",(0,r.jsx)(n.li,{children:"Prefer IN over multiple OR conditions"}),"\n",(0,r.jsx)(n.li,{children:"Put AND conditions before OR for better performance"}),"\n",(0,r.jsx)(n.li,{children:"Avoid leading wildcards in LIKE (%)"}),"\n",(0,r.jsx)(n.li,{children:"Limit nesting depth for maintainability"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Next:"})," ",(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-projection",children:"Field Projection \u2192"})," to learn about ",(0,r.jsx)(n.code,{children:"$select"})," optimization."]}),"\n",(0,r.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/basic-queries",children:"Basic Queries"})," - Simple filtering fundamentals"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/query-performance",children:"Query Performance"})," - Performance optimization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/read-operations",children:"Read Operations"})," - Core READ documentation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},2172:(e,n,i)=>{i.d(n,{I:()=>c,M:()=>t});var r=i(1504);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);