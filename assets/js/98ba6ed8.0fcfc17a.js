"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[9212],{1472:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var i=r(7624),s=r(2172);const t={title:"Sorting Patterns",sidebar_label:"Sorting Patterns",sidebar_position:5,description:"Single and multi-field sorting strategies with $order parameter"},l="Sorting Patterns",d={id:"products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns",title:"Sorting Patterns",description:"Single and multi-field sorting strategies with $order parameter",source:"@site/docs/products/map.q01.io/core-api-platform-v4/03-query-patterns/sorting-patterns.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/03-query-patterns",slug:"/products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/sorting-patterns",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Sorting Patterns",sidebar_label:"Sorting Patterns",sidebar_position:5,description:"Single and multi-field sorting strategies with $order parameter"},sidebar:"mapSidebar",previous:{title:"Field Retrieval",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/field-retrieval"},next:{title:"TREC Filtering",permalink:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/trec-filtering"}},a={},o=[{value:"Overview",id:"overview",level:2},{value:"Single-Field Sort",id:"single-field-sort",level:2},{value:"Ascending Order (ASC)",id:"ascending-order-asc",level:3},{value:"Descending Order (DESC)",id:"descending-order-desc",level:3},{value:"Default Direction",id:"default-direction",level:3},{value:"Multi-Field Sort",id:"multi-field-sort",level:2},{value:"Two Fields",id:"two-fields",level:3},{value:"Three or More Fields",id:"three-or-more-fields",level:3},{value:"Mixed Sort Directions",id:"mixed-sort-directions",level:2},{value:"Ascending + Descending",id:"ascending--descending",level:3},{value:"Common Sorting Patterns",id:"common-sorting-patterns",level:2},{value:"Pattern 1: Alphabetical List",id:"pattern-1-alphabetical-list",level:3},{value:"Pattern 2: Most Recent First",id:"pattern-2-most-recent-first",level:3},{value:"Pattern 3: Highest Value First",id:"pattern-3-highest-value-first",level:3},{value:"Pattern 4: Priority + Date",id:"pattern-4-priority--date",level:3},{value:"Pattern 5: Status + Name",id:"pattern-5-status--name",level:3},{value:"Sorting by Indexed Fields",id:"sorting-by-indexed-fields",level:2},{value:"Performance Impact",id:"performance-impact",level:3},{value:"Null Handling",id:"null-handling",level:2},{value:"Nulls in Sorting",id:"nulls-in-sorting",level:3},{value:"JavaScript Examples",id:"javascript-examples",level:2},{value:"Dynamic Sort Builder",id:"dynamic-sort-builder",level:3},{value:"Sort State Management (React)",id:"sort-state-management-react",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"sorting-patterns",children:"Sorting Patterns"}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["Sorting determines the order of query results using the ",(0,i.jsx)(n.code,{children:"$order"})," parameter. Core APIs support single-field, multi-field, and mixed-direction sorting."]}),"\n",(0,i.jsx)(n.h2,{id:"single-field-sort",children:"Single-Field Sort"}),"\n",(0,i.jsx)(n.h3,{id:"ascending-order-asc",children:"Ascending Order (ASC)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $order=XPRD01 ASC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Result:"})," Products sorted A\u2192Z by name."]}),"\n",(0,i.jsx)(n.h3,{id:"descending-order-desc",children:"Descending Order (DESC)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $order=XPRD02 DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Result:"})," Products sorted highest\u2192lowest price."]}),"\n",(0,i.jsx)(n.h3,{id:"default-direction",children:"Default Direction"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"ASC is default if omitted:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# These are equivalent:\n$order=XPRD01\n$order=XPRD01 ASC\n"})}),"\n",(0,i.jsx)(n.h2,{id:"multi-field-sort",children:"Multi-Field Sort"}),"\n",(0,i.jsx)(n.h3,{id:"two-fields",children:"Two Fields"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Sort by category, then name:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $order=XPRD05 ASC,XPRD01 ASC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Result:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Electronics - Widget A\nElectronics - Widget B\nToys - Ball\nToys - Car\n"})}),"\n",(0,i.jsx)(n.p,{children:"Products grouped by category, alphabetically sorted within each category."}),"\n",(0,i.jsx)(n.h3,{id:"three-or-more-fields",children:"Three or More Fields"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Complex sorting:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $order=XPRD05 ASC,XPRD06 DESC,XPRD02 DESC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Priority:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Category (ascending)"}),"\n",(0,i.jsx)(n.li,{children:"Active status (descending - active first)"}),"\n",(0,i.jsx)(n.li,{children:"Price (descending - highest first)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"mixed-sort-directions",children:"Mixed Sort Directions"}),"\n",(0,i.jsx)(n.h3,{id:"ascending--descending",children:"Ascending + Descending"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"GET /api/v4/core/PRD?source=productList&\\\n  $order=XPRD05 ASC,XPRD02 DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Result:"})," Categories A\u2192Z, within each category products sorted by price (high\u2192low)."]}),"\n",(0,i.jsx)(n.h2,{id:"common-sorting-patterns",children:"Common Sorting Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"pattern-1-alphabetical-list",children:"Pattern 1: Alphabetical List"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD01 ASC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use:"})," Product lists, customer lists, any A-Z sorting."]}),"\n",(0,i.jsx)(n.h3,{id:"pattern-2-most-recent-first",children:"Pattern 2: Most Recent First"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=CDATA DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use:"})," Activity feeds, recent orders, audit logs."]}),"\n",(0,i.jsx)(n.h3,{id:"pattern-3-highest-value-first",children:"Pattern 3: Highest Value First"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD02 DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use:"})," Top products by price, highest revenue customers."]}),"\n",(0,i.jsx)(n.h3,{id:"pattern-4-priority--date",children:"Pattern 4: Priority + Date"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD35 ASC,CDATA DESC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use:"})," Task lists (high priority first, then by date)."]}),"\n",(0,i.jsx)(n.h3,{id:"pattern-5-status--name",children:"Pattern 5: Status + Name"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD06 DESC,XPRD01 ASC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use:"})," Active items first, then alphabetically."]}),"\n",(0,i.jsx)(n.h2,{id:"sorting-by-indexed-fields",children:"Sorting by Indexed Fields"}),"\n",(0,i.jsx)(n.h3,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fast - indexed field:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u2705 XPRD03 is counter (indexed)\n$order=XPRD03 ASC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Slower - non-indexed field:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u26a0\ufe0f XPRD04 is text (may not be indexed)\n$order=XPRD04 ASC\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Best Practice:"})," Sort by indexed fields for tables with >10k records."]}),"\n",(0,i.jsx)(n.h2,{id:"null-handling",children:"Null Handling"}),"\n",(0,i.jsx)(n.h3,{id:"nulls-in-sorting",children:"Nulls in Sorting"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Ascending:"})," Nulls typically appear first (database dependent).\n",(0,i.jsx)(n.strong,{children:"Descending:"})," Nulls typically appear last."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD08 ASC\n# Results: NULL, NULL, 1, 2, 3, ...\n\n$order=XPRD08 DESC\n# Results: ..., 3, 2, 1, NULL, NULL\n"})}),"\n",(0,i.jsx)(n.h2,{id:"javascript-examples",children:"JavaScript Examples"}),"\n",(0,i.jsx)(n.h3,{id:"dynamic-sort-builder",children:"Dynamic Sort Builder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"class SortBuilder {\n  constructor() {\n    this.sorts = [];\n  }\n\n  addSort(field, direction = 'ASC') {\n    this.sorts.push(`${field} ${direction.toUpperCase()}`);\n    return this;\n  }\n\n  build() {\n    return this.sorts.join(',');\n  }\n\n  clear() {\n    this.sorts = [];\n    return this;\n  }\n}\n\n// Usage\nconst sort = new SortBuilder()\n  .addSort('XPRD05', 'ASC')\n  .addSort('XPRD02', 'DESC')\n  .build();\n\n// Result: \"XPRD05 ASC,XPRD02 DESC\"\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sort-state-management-react",children:"Sort State Management (React)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"function ProductTable() {\n  const [sortField, setSortField] = useState('XPRD01');\n  const [sortDirection, setSortDirection] = useState('ASC');\n\n  function handleSort(field) {\n    if (sortField === field) {\n      // Toggle direction if same field\n      setSortDirection(sortDirection === 'ASC' ? 'DESC' : 'ASC');\n    } else {\n      // New field, default ASC\n      setSortField(field);\n      setSortDirection('ASC');\n    }\n  }\n\n  useEffect(() => {\n    loadProducts({ $order: `${sortField} ${sortDirection}` });\n  }, [sortField, sortDirection]);\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th onClick={() => handleSort('XPRD01')}>\n            Name {sortField === 'XPRD01' && (sortDirection === 'ASC' ? '\u2191' : '\u2193')}\n          </th>\n          <th onClick={() => handleSort('XPRD02')}>\n            Price {sortField === 'XPRD02' && (sortDirection === 'ASC' ? '\u2191' : '\u2193')}\n          </th>\n        </tr>\n      </thead>\n      {/* ... */}\n    </table>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Sort by indexed fields:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD03 ASC  # Counter field (indexed)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use ASC/DESC explicitly:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD01 ASC  # Clear intent\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Combine with pagination:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$order=XPRD01 ASC&$num_rows=25&$offset=0\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't sort large tables by text fields:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u26a0\ufe0f Slow on 100k+ records\n$order=XPRD04 ASC\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Don't omit $order in pagination:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u274c Inconsistent page results\n$num_rows=25&$offset=25  # Missing $order\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 Use ",(0,i.jsx)(n.code,{children:"$order"})," to control result order"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 Format: ",(0,i.jsx)(n.code,{children:"field ASC|DESC"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 Multiple fields: ",(0,i.jsx)(n.code,{children:"field1 ASC,field2 DESC"})]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Sort by indexed fields for performance"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Always include $order with pagination"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/query-patterns/trec-filtering",children:"TREC Filtering \u2192"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},2172:(e,n,r)=>{r.d(n,{I:()=>d,M:()=>l});var i=r(1504);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);