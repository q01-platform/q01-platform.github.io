"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[7272],{4772:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var i=r(7624),s=r(2172);const o={title:"API Operations",sidebar_label:"API Operations",sidebar_position:3,description:"How to perform CRUD operations via CoreService endpoints"},t="API Operations",d={id:"products/map.q01.io/core-api-platform-v4/api-operations/index",title:"API Operations",description:"How to perform CRUD operations via CoreService endpoints",source:"@site/docs/products/map.q01.io/core-api-platform-v4/02-api-operations/index.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/02-api-operations",slug:"/products/map.q01.io/core-api-platform-v4/api-operations/",permalink:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"API Operations",sidebar_label:"API Operations",sidebar_position:3,description:"How to perform CRUD operations via CoreService endpoints"},sidebar:"mapSidebar",previous:{title:"13. Source Parameter",permalink:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/source-parameter"},next:{title:"Read Operations",permalink:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/read-operations"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"CoreService Entry Point",id:"coreservice-entry-point",level:2},{value:"Base URL Pattern",id:"base-url-pattern",level:3},{value:"HTTP Methods = Operations",id:"http-methods--operations",level:2},{value:"Operation Categories",id:"operation-categories",level:2},{value:"1. Read Operations (GET)",id:"1-read-operations-get",level:3},{value:"2. Write Operations (POST/PUT/PATCH/DELETE)",id:"2-write-operations-postputpatchdelete",level:3},{value:"3. Field Metadata Operations",id:"3-field-metadata-operations",level:3},{value:"4. Media Operations",id:"4-media-operations",level:3},{value:"5. Sort Operations",id:"5-sort-operations",level:3},{value:"6. Command Operations",id:"6-command-operations",level:3},{value:"7. Batch Operations",id:"7-batch-operations",level:3},{value:"Common Request Elements",id:"common-request-elements",level:2},{value:"Required Headers",id:"required-headers",level:3},{value:"Required Query Parameters",id:"required-query-parameters",level:3},{value:"Context Parameters",id:"context-parameters",level:3},{value:"Response Formats",id:"response-formats",level:2},{value:"Success Responses",id:"success-responses",level:3},{value:"Error Responses",id:"error-responses",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Operation Flow",id:"operation-flow",level:2},{value:"Read Operation (GET)",id:"read-operation-get",level:3},{value:"Write Operation (POST)",id:"write-operation-post",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"api-operations",children:"API Operations"}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["This section documents how to perform all operations via ",(0,i.jsx)(n.strong,{children:"CoreService"})," - the single public-facing API gateway for Q01 Core APIs."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Principle:"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"All applications interact exclusively with CoreService endpoints. Internal routing to CoreQuery (reads) or CoreWrite (writes) is transparent - you never call them directly."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"coreservice-entry-point",children:"CoreService Entry Point"}),"\n",(0,i.jsx)(n.h3,{id:"base-url-pattern",children:"Base URL Pattern"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://{host}/api/v{version}/core/{dimension}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Components:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{host}"}),": CoreService hostname (e.g., ",(0,i.jsx)(n.code,{children:"coreservice.q01.io"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{version}"}),": API version (e.g., ",(0,i.jsx)(n.code,{children:"v4"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{dimension}"}),": Dimension code from TB_DIM (e.g., ",(0,i.jsx)(n.code,{children:"PRD"}),", ",(0,i.jsx)(n.code,{children:"ORD"}),", ",(0,i.jsx)(n.code,{children:"CLI"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://coreservice.q01.io/api/v4/core/PRD\nhttps://coreservice.q01.io/api/v4/core/ORD/555\nhttps://coreservice.q01.io/api/v4/core/CLI?$filter=XCLI01 eq 'ACME'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"http-methods--operations",children:"HTTP Methods = Operations"}),"\n",(0,i.jsxs)(n.p,{children:["CoreService uses ",(0,i.jsx)(n.strong,{children:"RESTful HTTP methods"})," to determine operations:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"HTTP Method"}),(0,i.jsx)(n.th,{children:"Operation"}),(0,i.jsx)(n.th,{children:"Routes To"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"GET"})}),(0,i.jsx)(n.td,{children:"Read (list/detail)"}),(0,i.jsx)(n.td,{children:"CoreQuery"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GET /api/v4/core/PRD"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"POST"})}),(0,i.jsx)(n.td,{children:"Create"}),(0,i.jsx)(n.td,{children:"CoreWrite"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"POST /api/v4/core/PRD"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PUT"})}),(0,i.jsx)(n.td,{children:"Full update"}),(0,i.jsx)(n.td,{children:"CoreWrite"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PUT /api/v4/core/PRD/123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PATCH"})}),(0,i.jsx)(n.td,{children:"Partial update"}),(0,i.jsx)(n.td,{children:"CoreWrite"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PATCH /api/v4/core/PRD/123"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DELETE"})}),(0,i.jsx)(n.td,{children:"Delete (soft/hard)"}),(0,i.jsx)(n.td,{children:"CoreWrite"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DELETE /api/v4/core/PRD/123"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Critical Understanding:"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"You make a single HTTP request to CoreService. The HTTP method determines whether CoreService routes internally to CoreQuery (GET) or CoreWrite (POST/PUT/PATCH/DELETE). This routing is completely transparent."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"operation-categories",children:"Operation Categories"}),"\n",(0,i.jsx)(n.h3,{id:"1-read-operations-get",children:"1. Read Operations (GET)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Query data with filtering, sorting, pagination, field selection."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint:"})," ",(0,i.jsx)(n.code,{children:"GET /api/v4/core/{DIM}"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"List all records or single record by ID"}),"\n",(0,i.jsxs)(n.li,{children:["Filter with ",(0,i.jsx)(n.code,{children:"$filter"})," operators"]}),"\n",(0,i.jsxs)(n.li,{children:["Sort with ",(0,i.jsx)(n.code,{children:"$order"})]}),"\n",(0,i.jsxs)(n.li,{children:["Paginate with ",(0,i.jsx)(n.code,{children:"$num_rows"})," and ",(0,i.jsx)(n.code,{children:"$offset"})]}),"\n",(0,i.jsxs)(n.li,{children:["Select fields with ",(0,i.jsx)(n.code,{children:"$select"})]}),"\n",(0,i.jsx)(n.li,{children:"Join related dimensions"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/read-operations",children:"Read Operations \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"2-write-operations-postputpatchdelete",children:"2. Write Operations (POST/PUT/PATCH/DELETE)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Create, update, delete data with validation, cascades, and outbox publishing."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Endpoints:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /api/v4/core/{DIM}"})," - Create"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PUT /api/v4/core/{DIM}/{ID}"})," - Full update"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PATCH /api/v4/core/{DIM}/{ID}"})," - Partial update"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DELETE /api/v4/core/{DIM}/{ID}"})," - Delete"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automatic TREC management"}),"\n",(0,i.jsx)(n.li,{children:"Pre-insert functions"}),"\n",(0,i.jsx)(n.li,{children:"Cascade operations"}),"\n",(0,i.jsx)(n.li,{children:"Outbox event publishing"}),"\n",(0,i.jsx)(n.li,{children:"Transaction guarantees"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/write-operations",children:"Write Operations \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"3-field-metadata-operations",children:"3. Field Metadata Operations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Retrieve field definitions, visibility, validation rules from TB_COST."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint:"})," ",(0,i.jsx)(n.code,{children:"GET /api/v4/core/{DIM}/fields"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Get field metadata for context (nuovo, modifica, visualizza)"}),"\n",(0,i.jsx)(n.li,{children:"COD_ON_OFF visibility filtering"}),"\n",(0,i.jsx)(n.li,{children:"Field types from TB_TYPE_FIELDS"}),"\n",(0,i.jsx)(n.li,{children:"Validation rules"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/field-metadata",children:"Field Metadata \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"4-media-operations",children:"4. Media Operations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Upload and retrieve images/files stored in Google Cloud Storage."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Endpoints:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /api/v4/core/{DIM}/media"})," - Upload"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /api/v4/core/{DIM}/{ID}/media/{FIELD}"})," - Download"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Binary file upload"}),"\n",(0,i.jsx)(n.li,{children:"Automatic GCS storage"}),"\n",(0,i.jsx)(n.li,{children:"Metadata tracking in dimension table"}),"\n",(0,i.jsx)(n.li,{children:"Public/private URL generation"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/media-operations",children:"Media Operations \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"5-sort-operations",children:"5. Sort Operations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Pre-defined sort configurations for consistent ordering."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint:"})," ",(0,i.jsx)(n.code,{children:"GET /api/v4/core/{DIM}/sort/{SORT_KEY}"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Named sort configurations"}),"\n",(0,i.jsx)(n.li,{children:"Multi-field ordering"}),"\n",(0,i.jsx)(n.li,{children:"ASC/DESC control"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/sort-operations",children:"Sort Operations \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"6-command-operations",children:"6. Command Operations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Special operations not fitting standard CRUD (e.g., export, import, custom logic)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint:"})," ",(0,i.jsx)(n.code,{children:"POST /api/v4/core/{DIM}/command/{COMMAND_NAME}"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Custom business logic"}),"\n",(0,i.jsx)(n.li,{children:"Batch operations"}),"\n",(0,i.jsx)(n.li,{children:"Data transformations"}),"\n",(0,i.jsx)(n.li,{children:"External integrations"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/command-operations",children:"Command Operations \u2192"})]}),"\n",(0,i.jsx)(n.h3,{id:"7-batch-operations",children:"7. Batch Operations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Perform multiple operations in single request for efficiency."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint:"})," ",(0,i.jsx)(n.code,{children:"POST /api/v4/core/batch"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Multiple creates in one transaction"}),"\n",(0,i.jsx)(n.li,{children:"Bulk updates"}),"\n",(0,i.jsx)(n.li,{children:"Transaction rollback on failure"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/batch-operations",children:"Batch Operations \u2192"})]}),"\n",(0,i.jsx)(n.h2,{id:"common-request-elements",children:"Common Request Elements"}),"\n",(0,i.jsx)(n.h3,{id:"required-headers",children:"Required Headers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer {JWT_TOKEN}\nContent-Type: application/json\nAccept: application/json\n"})}),"\n",(0,i.jsx)(n.h3,{id:"required-query-parameters",children:"Required Query Parameters"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For all operations:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"source={SECURITY_AREA}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET /api/v4/core/PRD?source=productList\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why source is required:"})," Permission validation via TB_MENU nested set hierarchy."]}),"\n",(0,i.jsx)(n.h3,{id:"context-parameters",children:"Context Parameters"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common parameters traveling with requests:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Purpose"}),(0,i.jsx)(n.th,{children:"Example"}),(0,i.jsx)(n.th,{children:"Required"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"source"})}),(0,i.jsx)(n.td,{children:"Security area"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"productList"})}),(0,i.jsx)(n.td,{children:"\u2705 Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"center_dett"})}),(0,i.jsx)(n.td,{children:"Context for field visibility"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"visualizza"})}),(0,i.jsx)(n.td,{children:"Recommended"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ambiente"})}),(0,i.jsx)(n.td,{children:"Tenant isolation"}),(0,i.jsx)(n.td,{children:"Extracted from JWT"}),(0,i.jsx)(n.td,{children:"Auto"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"modulo"})}),(0,i.jsx)(n.td,{children:"Module context"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Default"})}),(0,i.jsx)(n.td,{children:"Auto"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"microservice"})}),(0,i.jsx)(n.td,{children:"Source microservice"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"corequery"})}),(0,i.jsx)(n.td,{children:"Auto"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/context-chain",children:"Context Chain \u2192"})]}),"\n",(0,i.jsx)(n.h2,{id:"response-formats",children:"Response Formats"}),"\n",(0,i.jsx)(n.h3,{id:"success-responses",children:"Success Responses"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List (GET):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {"PRD_ID": "1", "XPRD01": "Widget A"},\n  {"PRD_ID": "2", "XPRD01": "Widget B"}\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Single Record (GET with ID):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "PRD_ID": "123",\n  "XPRD01": "Premium Widget",\n  "XPRD02": 49.99\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Create (POST):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[{\n  "code": 201,\n  "insertedId": "123",\n  "body": {\n    "XPRD01": "Premium Widget",\n    "XPRD02": 49.99\n  },\n  "fields": {\n    "PRD_ID": {...},\n    "XPRD01": {...}\n  }\n}]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Update (PUT/PATCH):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "modifiedId": "123",\n  "body": {\n    "XPRD02": 59.99\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Delete:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "code": 200,\n  "message": "Record deleted successfully",\n  "deletedId": "123"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Format:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "code": 400,\n  "message": "Validation error",\n  "errors": [\n    {\n      "field": "XPRD01",\n      "message": "Field is required"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common HTTP Status Codes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"200 OK"})," - Success"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"201 Created"})," - Resource created"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400 Bad Request"})," - Validation error"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401 Unauthorized"})," - Missing/invalid JWT"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"403 Forbidden"})," - Insufficient permissions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404 Not Found"})," - Resource not found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500 Internal Server Error"})," - Server error"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"All requests require JWT authentication:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"JWT contains:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["User ID (",(0,i.jsx)(n.code,{children:"login_id"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Grants (security area permissions)"}),"\n",(0,i.jsxs)(n.li,{children:["Tenant ID (",(0,i.jsx)(n.code,{children:"ambiente"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Session metadata"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/authentication",children:"JWT Authentication \u2192"})]}),"\n",(0,i.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Multi-layer validation:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JWT valid"})," - Token not expired, signature valid"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source authorized"})," - User has grant for ",(0,i.jsx)(n.code,{children:"source"})," parameter"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Grant level sufficient"})," - User grant \u2265 required grant (0-4)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Field visibility"})," - COD_ON_OFF filtering by ",(0,i.jsx)(n.code,{children:"center_dett"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Peso filtering"})," - User peso \u2265 field peso (TB_COST.COD_UTENTE)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Documentation:"})," ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/core-concepts/permissions",children:"Multi-Level Permissions \u2192"})]}),"\n",(0,i.jsx)(n.h2,{id:"operation-flow",children:"Operation Flow"}),"\n",(0,i.jsx)(n.h3,{id:"read-operation-get",children:"Read Operation (GET)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Client    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 GET /api/v4/core/PRD?source=productList\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   CoreService    \u2502 \u2190 Single entry point\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 Routes based on HTTP method (GET)\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   CoreQuery      \u2502 \u2190 Internal backend\n\u2502  (Read Service)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 1. Validate JWT & permissions\n       \u2502 2. Load metadata (TB_DIM, TB_COST)\n       \u2502 3. Build SQL query\n       \u2502 4. Filter by COD_ON_OFF\n       \u2502 5. Execute query\n       \u2502 6. Return JSON\n       \u2502\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Client    \u2502 \u2190 Receives array of records\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"write-operation-post",children:"Write Operation (POST)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Client    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 POST /api/v4/core/PRD\n       \u2502 Body: {"XPRD01": "Widget"}\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   CoreService    \u2502 \u2190 Single entry point\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 Routes based on HTTP method (POST)\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   CoreWrite      \u2502 \u2190 Internal backend\n\u2502  (Write Service) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2502 1. Validate JWT & permissions\n       \u2502 2. Load metadata\n       \u2502 3. Execute pre-insert functions\n       \u2502 4. Validate required fields\n       \u2502 5. BEGIN TRANSACTION\n       \u2502 6. INSERT into dimension table\n       \u2502 7. Execute cascades\n       \u2502 8. Write to TB_ANAG_OUTBOX00\n       \u2502 9. COMMIT\n       \u2502 10. Relay publishes to RabbitMQ\n       \u2502\n       v\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Client    \u2502 \u2190 Receives insertedId + metadata\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Start with the basics:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Read Operations"})," - Learn how to query data\n\u2192 ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/read-operations",children:"Read Operations"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Write Operations"})," - Learn how to create/update/delete data\n\u2192 ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/write-operations",children:"Write Operations"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Field Metadata"})," - Understand how to get field definitions\n\u2192 ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/field-metadata",children:"Field Metadata"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Advanced topics:"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/media-operations",children:"Media Operations"})," - File uploads"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/sort-operations",children:"Sort Operations"})," - Pre-defined sorting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/command-operations",children:"Command Operations"})," - Custom operations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/batch-operations",children:"Batch Operations"})," - Bulk operations"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"CoreService is the only public API"})," - Never call CoreQuery/CoreWrite directly"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"HTTP method determines operation"})," - GET=read, POST=create, PUT=update, etc."]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"source parameter is required"})," - For permission validation"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"JWT authentication mandatory"})," - All requests must be authenticated"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Responses are consistent"})," - Arrays for lists, objects for single records"]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Internal routing is transparent"})," - CoreService handles routing automatically"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Ready to start querying data? Continue to ",(0,i.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/api-operations/read-operations",children:"Read Operations \u2192"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},2172:(e,n,r)=>{r.d(n,{I:()=>d,M:()=>t});var i=r(1504);const s={},o=i.createContext(s);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);