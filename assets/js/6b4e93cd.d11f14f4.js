"use strict";(self.webpackChunkq_01_docs=self.webpackChunkq_01_docs||[]).push([[8260],{4:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var s=r(7624),i=r(2172);const l={title:"Error Codes",sidebar_label:"Error Codes",sidebar_position:6,description:"Complete error code reference for Q01 Core APIs - HTTP status codes, error types, troubleshooting, and resolution strategies"},d="Error Codes",t={id:"products/map.q01.io/core-api-platform-v4/reference/error-codes",title:"Error Codes",description:"Complete error code reference for Q01 Core APIs - HTTP status codes, error types, troubleshooting, and resolution strategies",source:"@site/docs/products/map.q01.io/core-api-platform-v4/08-reference/error-codes.md",sourceDirName:"products/map.q01.io/core-api-platform-v4/08-reference",slug:"/products/map.q01.io/core-api-platform-v4/reference/error-codes",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/error-codes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"Error Codes",sidebar_label:"Error Codes",sidebar_position:6,description:"Complete error code reference for Q01 Core APIs - HTTP status codes, error types, troubleshooting, and resolution strategies"},sidebar:"mapSidebar",previous:{title:"API Endpoints",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/api-endpoints"},next:{title:"Glossary",permalink:"/docs/products/map.q01.io/core-api-platform-v4/reference/glossary"}},o={},c=[{value:"Overview",id:"overview",level:2},{value:"Nested Error Responses",id:"nested-error-responses",level:3},{value:"HTTP Status Codes",id:"http-status-codes",level:2},{value:"2xx Success",id:"2xx-success",level:3},{value:"200 OK",id:"200-ok",level:4},{value:"201 Created",id:"201-created",level:4},{value:"205 Reset Content",id:"205-reset-content",level:4},{value:"4xx Client Errors",id:"4xx-client-errors",level:3},{value:"400 Bad Request",id:"400-bad-request",level:4},{value:"401 Unauthorized",id:"401-unauthorized",level:4},{value:"TOKEN_MISSING",id:"token_missing",level:5},{value:"TOKEN_EXPIRED",id:"token_expired",level:5},{value:"TOKEN_INVALID",id:"token_invalid",level:5},{value:"403 Forbidden",id:"403-forbidden",level:4},{value:"INSUFFICIENT_PERMISSIONS",id:"insufficient_permissions",level:5},{value:"CONTEXT_MISMATCH",id:"context_mismatch",level:5},{value:"PESO_INSUFFICIENT",id:"peso_insufficient",level:5},{value:"404 Not Found",id:"404-not-found",level:4},{value:"DIMENSION_NOT_FOUND",id:"dimension_not_found",level:5},{value:"RECORD_NOT_FOUND",id:"record_not_found",level:5},{value:"FIELD_NOT_FOUND",id:"field_not_found",level:5},{value:"422 Unprocessable Entity",id:"422-unprocessable-entity",level:4},{value:"REQUIRED_FIELD_MISSING",id:"required_field_missing",level:5},{value:"FIELD_NOT_ALLOWED_ON_CREATE",id:"field_not_allowed_on_create",level:5},{value:"FIELD_NOT_MODIFIABLE",id:"field_not_modifiable",level:5},{value:"FIELD_NOT_SEARCHABLE",id:"field_not_searchable",level:5},{value:"DATA_TYPE_MISMATCH",id:"data_type_mismatch",level:5},{value:"UNIQUE_CONSTRAINT_VIOLATION",id:"unique_constraint_violation",level:5},{value:"FOREIGN_KEY_VIOLATION",id:"foreign_key_violation",level:5},{value:"429 Too Many Requests",id:"429-too-many-requests",level:4},{value:"5xx Server Errors",id:"5xx-server-errors",level:3},{value:"500 Internal Server Error",id:"500-internal-server-error",level:4},{value:"502 Bad Gateway",id:"502-bad-gateway",level:4},{value:"503 Service Unavailable",id:"503-service-unavailable",level:4},{value:"504 Gateway Timeout",id:"504-gateway-timeout",level:4},{value:"Application Error Codes",id:"application-error-codes",level:2},{value:"Authentication Errors",id:"authentication-errors",level:3},{value:"Authorization Errors",id:"authorization-errors",level:3},{value:"Validation Errors",id:"validation-errors",level:3},{value:"Resource Errors",id:"resource-errors",level:3},{value:"Rate Limiting Errors",id:"rate-limiting-errors",level:3},{value:"Server Errors",id:"server-errors",level:3},{value:"Troubleshooting Guide",id:"troubleshooting-guide",level:2},{value:"Checklist for 401 Errors",id:"checklist-for-401-errors",level:3},{value:"Checklist for 403 Errors",id:"checklist-for-403-errors",level:3},{value:"Checklist for 422 Errors",id:"checklist-for-422-errors",level:3},{value:"Checklist for 429 Errors",id:"checklist-for-429-errors",level:3},{value:"Summary",id:"summary",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"error-codes",children:"Error Codes"}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["Q01 Core APIs return ",(0,s.jsx)(n.strong,{children:"structured error responses"})," with HTTP status codes, error types, and actionable messages. This reference catalogs all error codes and provides troubleshooting guidance."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response Format"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ErrorType",\n  "message": "Human-readable error description",\n  "code": "ERROR_CODE",\n  "status": 400,\n  "field": "field_name",\n  "details": {}\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"nested-error-responses",children:"Nested Error Responses"}),"\n",(0,s.jsxs)(n.p,{children:["When a request passes through multiple microservices (e.g., Client \u2192 Backend \u2192 CoreService \u2192 CoreQuery), errors can be ",(0,s.jsx)(n.strong,{children:"nested"})," with each layer wrapping the previous error message."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Nested Error Structure:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "code": 400,\n  "message": {\n    "code": 400,\n    "message": {\n      "status": 400,\n      "message": "Invalid field: XPRD99 does not exist in dimension PRD",\n      "code": "INVALID_FIELD",\n      "errors": {}\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Understanding Nested Errors:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Client\n  \u2193 HTTP 400\nBackend (your application service)\n  \u2193 wraps error in {"code": 400, "message": {...}}\nCoreService (API Gateway)\n  \u2193 wraps error in {"code": 400, "message": {...}}\nCoreQuery (Data Service)\n  \u2193 generates original error: {"status": 400, "message": "Invalid field...", "code": "INVALID_FIELD"}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How to Extract Root Cause:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function getRootError(errorResponse) {\n  let current = errorResponse;\n\n  // Traverse nested messages until we find the root\n  while (current.message && typeof current.message === 'object') {\n    current = current.message;\n  }\n\n  return current;\n}\n\n// Usage\ntry {\n  const response = await fetch('/api/v4/core/PRD');\n  if (!response.ok) {\n    const error = await response.json();\n    const rootError = getRootError(error);\n    console.error('Root cause:', rootError.message);\n    console.error('Error code:', rootError.code);\n  }\n} catch (error) {\n  console.error('Request failed:', error);\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example with Real Nested Error:"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "code": 400,\n  "message": {\n    "code": 400,\n    "message": {\n      "status": 400,\n      "message": "Missing required field: XPRD05",\n      "code": "REQUIRED_FIELD_MISSING",\n      "field": "XPRD05"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Extracted Root Error:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'{\n  "status": 400,\n  "message": "Missing required field: XPRD05",\n  "code": "REQUIRED_FIELD_MISSING",\n  "field": "XPRD05"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Best Practice:"}),"\nAlways extract the ",(0,s.jsx)(n.strong,{children:"innermost error message"})," for the actual root cause. Outer wrappers are from intermediate routing layers and don't contain the detailed error information."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"http-status-codes",children:"HTTP Status Codes"}),"\n",(0,s.jsx)(n.h3,{id:"2xx-success",children:"2xx Success"}),"\n",(0,s.jsx)(n.h4,{id:"200-ok",children:"200 OK"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Request succeeded"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Used For"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GET requests (list, single record)"}),"\n",(0,s.jsx)(n.li,{children:"PATCH requests (partial update)"}),"\n",(0,s.jsx)(n.li,{children:"PUT requests (full update)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "PRD_ID": 123,\n    "XPRD01": "Product Name"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"201-created",children:"201 Created"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Resource created successfully"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Used For"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"POST requests (create record)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "PRD_ID": 124,\n    "TREC": "N",\n    "XPRD01": "New Product"\n  },\n  "message": "Record created successfully"\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"205-reset-content",children:"205 Reset Content"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Resource deleted successfully - client should reset view"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Used For"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"DELETE requests (soft delete or force delete)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why 205 instead of 204?"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"204 No Content = response has no body"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"205 Reset Content"})," = response has body AND client should refresh/reset view"]}),"\n",(0,s.jsx)(n.li,{children:"Q01 DELETE operations return metadata about deleted record"}),"\n",(0,s.jsx)(n.li,{children:"205 signals client to refresh list/table views"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": 205,\n  "message": "Record deleted successfully",\n  "data": {\n    "PRD_ID": 123,\n    "TREC": "C",\n    "deleted_at": "2025-12-19T16:00:00Z"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Client Behavior:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Handle DELETE response\nconst response = await fetch(`/api/v4/core/PRD/123`, {\n  method: 'DELETE'\n});\n\nif (response.status === 205) {\n  // Reset/refresh client view\n  refreshProductList();  // Reload table data\n  clearSelection();      // Clear selected rows\n  showNotification('Record deleted successfully');\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Soft Delete (TREC='C'):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"DELETE /api/v4/core/PRD/123?source=productManagement\n# Sets TREC='C', returns 205\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Force Delete (Physical Removal):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"DELETE /api/v4/core/PRD/123?source=productManagement&force=true\n# Removes record from database, returns 205\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4xx-client-errors",children:"4xx Client Errors"}),"\n",(0,s.jsx)(n.h4,{id:"400-bad-request",children:"400 Bad Request"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Invalid request syntax or malformed parameters"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Invalid JSON syntax"}),"\n",(0,s.jsx)(n.li,{children:"Malformed query parameters"}),"\n",(0,s.jsx)(n.li,{children:"Invalid filter operators"}),"\n",(0,s.jsx)(n.li,{children:"Missing required request headers"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example Error"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "BadRequest",\n  "message": "Invalid JSON syntax in request body",\n  "code": "INVALID_JSON",\n  "status": 400\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Validate JSON syntax"}),"\n",(0,s.jsx)(n.li,{children:"Check query parameter format"}),"\n",(0,s.jsx)(n.li,{children:"Review API documentation for correct syntax"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"401-unauthorized",children:"401 Unauthorized"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Missing or invalid authentication token"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["No ",(0,s.jsx)(n.code,{children:"Authorization"})," header"]}),"\n",(0,s.jsx)(n.li,{children:"Expired JWT token"}),"\n",(0,s.jsx)(n.li,{children:"Invalid token signature"}),"\n",(0,s.jsx)(n.li,{children:"Token from wrong issuer"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Codes"}),":"]}),"\n",(0,s.jsx)(n.h5,{id:"token_missing",children:"TOKEN_MISSING"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "Authorization header is required",\n  "code": "TOKEN_MISSING",\n  "status": 401\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Include Authorization header\nheaders: {\n  'Authorization': `Bearer ${token}`\n}\n"})}),"\n",(0,s.jsx)(n.h5,{id:"token_expired",children:"TOKEN_EXPIRED"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "JWT token has expired",\n  "code": "TOKEN_EXPIRED",\n  "status": 401,\n  "expired_at": "2025-12-19T15:30:45Z"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Refresh token\nconst response = await fetch('/auth/refresh', {\n  method: 'POST',\n  body: JSON.stringify({ refresh_token })\n});\nconst { access_token } = await response.json();\n"})}),"\n",(0,s.jsx)(n.h5,{id:"token_invalid",children:"TOKEN_INVALID"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Unauthorized",\n  "message": "Invalid JWT token signature",\n  "code": "TOKEN_INVALID",\n  "status": 401\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Obtain new token via ",(0,s.jsx)(n.code,{children:"/auth/login"})]}),"\n",(0,s.jsx)(n.li,{children:"Verify token is not corrupted"}),"\n",(0,s.jsx)(n.li,{children:"Check token issuer matches API"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"403-forbidden",children:"403 Forbidden"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Valid authentication but insufficient permissions"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"User lacks required grant (TB_MENU)"}),"\n",(0,s.jsx)(n.li,{children:"Source/centro_dett mismatch"}),"\n",(0,s.jsx)(n.li,{children:"Peso level insufficient"}),"\n",(0,s.jsx)(n.li,{children:"Field not visible due to COD_ON_OFF"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Codes"}),":"]}),"\n",(0,s.jsx)(n.h5,{id:"insufficient_permissions",children:"INSUFFICIENT_PERMISSIONS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Forbidden",\n  "message": "User lacks required grant: products.write",\n  "code": "INSUFFICIENT_PERMISSIONS",\n  "status": 403,\n  "required_grant": "products.write",\n  "user_grants": ["products.read"]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Check user grants before operation\nif (!hasGrant('products.write')) {\n  // Hide create/edit UI\n  hideCreateButton();\n}\n"})}),"\n",(0,s.jsx)(n.h5,{id:"context_mismatch",children:"CONTEXT_MISMATCH"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Forbidden",\n  "message": "Record belongs to different source",\n  "code": "CONTEXT_MISMATCH",\n  "status": 403,\n  "record_source": "tenant_A",\n  "user_source": "tenant_B"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify session context (source, centro_dett)"}),"\n",(0,s.jsx)(n.li,{children:"Ensure user is operating within their tenant"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"peso_insufficient",children:"PESO_INSUFFICIENT"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Forbidden",\n  "message": "User peso level insufficient to access record",\n  "code": "PESO_INSUFFICIENT",\n  "status": 403,\n  "record_peso": 1,\n  "user_peso": 3\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"User with peso=3 cannot access records with peso=1 (admin level)"}),"\n",(0,s.jsx)(n.li,{children:"Filter records by user's peso level"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"404-not-found",children:"404 Not Found"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Requested resource does not exist"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Invalid dimension code"}),"\n",(0,s.jsx)(n.li,{children:"Record ID doesn't exist"}),"\n",(0,s.jsx)(n.li,{children:"Record soft-deleted (TREC='C')"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Codes"}),":"]}),"\n",(0,s.jsx)(n.h5,{id:"dimension_not_found",children:"DIMENSION_NOT_FOUND"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "NotFound",\n  "message": "Dimension \'XYZ\' not found in TB_DIM",\n  "code": "DIMENSION_NOT_FOUND",\n  "status": 404,\n  "dimension": "XYZ"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify dimension code exists in TB_DIM"}),"\n",(0,s.jsx)(n.li,{children:"Check for typos in dimension code"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"record_not_found",children:"RECORD_NOT_FOUND"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "NotFound",\n  "message": "Record with ID 999 not found",\n  "code": "RECORD_NOT_FOUND",\n  "status": 404,\n  "dimension": "PRD",\n  "record_id": 999\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify record ID exists"}),"\n",(0,s.jsx)(n.li,{children:"Check if record was soft-deleted (TREC='C')"}),"\n",(0,s.jsxs)(n.li,{children:["Query with ",(0,s.jsx)(n.code,{children:"?filter[TREC][$in]=N,M,C"})," to include deleted"]}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"field_not_found",children:"FIELD_NOT_FOUND"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "NotFound",\n  "message": "Field \'XPRD99\' not found in dimension PRD",\n  "code": "FIELD_NOT_FOUND",\n  "status": 404,\n  "dimension": "PRD",\n  "field": "XPRD99"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Query ",(0,s.jsx)(n.code,{children:"/api/v4/core/PRD/fields"})," for available fields"]}),"\n",(0,s.jsx)(n.li,{children:"Check field name spelling"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"422-unprocessable-entity",children:"422 Unprocessable Entity"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Request syntax valid but validation failed"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Missing required fields"}),"\n",(0,s.jsx)(n.li,{children:"Field not allowed in operation (COD_ON_OFF)"}),"\n",(0,s.jsx)(n.li,{children:"Invalid field value (data type mismatch)"}),"\n",(0,s.jsx)(n.li,{children:"Constraint violation (unique, foreign key)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Codes"}),":"]}),"\n",(0,s.jsx)(n.h5,{id:"required_field_missing",children:"REQUIRED_FIELD_MISSING"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Required field missing: XPRD05",\n  "code": "REQUIRED_FIELD_MISSING",\n  "status": 422,\n  "field": "XPRD05"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Include all required fields\nconst requiredFields = fields.filter(f => f.REQUIRED === true);\n"})}),"\n",(0,s.jsx)(n.h5,{id:"field_not_allowed_on_create",children:"FIELD_NOT_ALLOWED_ON_CREATE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Field XPRD03 cannot be set on creation (COD_ON_OFF missing \'N\' flag)",\n  "code": "FIELD_NOT_ALLOWED_ON_CREATE",\n  "status": 422,\n  "field": "XPRD03",\n  "cod_on_off": "LDR"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Only include fields with 'N' flag on POST\nconst createFields = fields.filter(f => f.COD_ON_OFF.includes('N'));\n"})}),"\n",(0,s.jsx)(n.h5,{id:"field_not_modifiable",children:"FIELD_NOT_MODIFIABLE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Field XPRD03 cannot be modified (COD_ON_OFF missing \'M\' flag)",\n  "code": "FIELD_NOT_MODIFIABLE",\n  "status": 422,\n  "field": "XPRD03",\n  "cod_on_off": "LDRN"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Only include fields with 'M' flag on PUT/PATCH\nconst updateFields = fields.filter(f => f.COD_ON_OFF.includes('M'));\n"})}),"\n",(0,s.jsx)(n.h5,{id:"field_not_searchable",children:"FIELD_NOT_SEARCHABLE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Field XPRD99 cannot be used in filters (COD_ON_OFF missing \'R\' flag)",\n  "code": "FIELD_NOT_SEARCHABLE",\n  "status": 422,\n  "field": "XPRD99",\n  "cod_on_off": "DN"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Only use fields with 'R' flag in filters\nconst searchableFields = fields.filter(f => f.COD_ON_OFF.includes('R'));\n"})}),"\n",(0,s.jsx)(n.h5,{id:"data_type_mismatch",children:"DATA_TYPE_MISMATCH"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Field XPRD02 expects DECIMAL, received STRING",\n  "code": "DATA_TYPE_MISMATCH",\n  "status": 422,\n  "field": "XPRD02",\n  "expected_type": "DECIMAL",\n  "received_type": "STRING",\n  "received_value": "abc"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Validate data types before sending\nconst price = parseFloat(priceInput);  // Convert to number\n"})}),"\n",(0,s.jsx)(n.h5,{id:"unique_constraint_violation",children:"UNIQUE_CONSTRAINT_VIOLATION"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Field XPRD03 must be unique, value \'SKU-001\' already exists",\n  "code": "UNIQUE_CONSTRAINT_VIOLATION",\n  "status": 422,\n  "field": "XPRD03",\n  "value": "SKU-001",\n  "existing_record_id": 456\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Generate unique value"}),"\n",(0,s.jsx)(n.li,{children:"Check for existing value before creating"}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"foreign_key_violation",children:"FOREIGN_KEY_VIOLATION"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ValidationError",\n  "message": "Foreign key violation: Category \'cat_999\' does not exist",\n  "code": "FOREIGN_KEY_VIOLATION",\n  "status": 422,\n  "field": "XPRD05",\n  "value": "cat_999",\n  "referenced_dimension": "CAT"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify referenced record exists"}),"\n",(0,s.jsx)(n.li,{children:"Create referenced record first"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"429-too-many-requests",children:"429 Too Many Requests"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Rate limit exceeded"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "RateLimitExceeded",\n  "message": "Rate limit exceeded. Retry after 300 seconds.",\n  "code": "RATE_LIMIT_EXCEEDED",\n  "status": 429,\n  "retry_after": 300,\n  "limit": 1000,\n  "remaining": 0,\n  "reset": 1735574400\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Implement exponential backoff\nasync function retryWithBackoff(fn, maxRetries = 3) {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (error.status === 429) {\n        const retryAfter = error.retry_after || Math.pow(2, i) * 1000;\n        await sleep(retryAfter);\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5xx-server-errors",children:"5xx Server Errors"}),"\n",(0,s.jsx)(n.h4,{id:"500-internal-server-error",children:"500 Internal Server Error"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Unexpected server error"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Database connection failure"}),"\n",(0,s.jsx)(n.li,{children:"Unhandled exception"}),"\n",(0,s.jsx)(n.li,{children:"Configuration error"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "InternalServerError",\n  "message": "An unexpected error occurred",\n  "code": "INTERNAL_ERROR",\n  "status": 500,\n  "request_id": "uuid-..."\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Retry request (may be transient)"}),"\n",(0,s.jsx)(n.li,{children:"Check server logs with request_id"}),"\n",(0,s.jsx)(n.li,{children:"Contact technical support if persistent"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"502-bad-gateway",children:"502 Bad Gateway"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": CoreService cannot reach backend (CoreQuery/CoreWrite)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Backend service down"}),"\n",(0,s.jsx)(n.li,{children:"Network issue"}),"\n",(0,s.jsx)(n.li,{children:"Backend timeout"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "BadGateway",\n  "message": "Backend service unavailable",\n  "code": "BACKEND_UNAVAILABLE",\n  "status": 502,\n  "backend": "corewrite.internal"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Retry request after delay"}),"\n",(0,s.jsx)(n.li,{children:"Check service health status"}),"\n",(0,s.jsx)(n.li,{children:"Monitor for service recovery"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"503-service-unavailable",children:"503 Service Unavailable"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Service temporarily unavailable"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Maintenance mode"}),"\n",(0,s.jsx)(n.li,{children:"Database maintenance"}),"\n",(0,s.jsx)(n.li,{children:"Server overloaded"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "ServiceUnavailable",\n  "message": "Service temporarily unavailable for maintenance",\n  "code": "SERVICE_UNAVAILABLE",\n  "status": 503,\n  "retry_after": 600\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wait for maintenance window to complete"}),"\n",(0,s.jsx)(n.li,{children:"Retry after specified time"}),"\n",(0,s.jsx)(n.li,{children:"Check status page for updates"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"504-gateway-timeout",children:"504 Gateway Timeout"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Meaning"}),": Backend did not respond within timeout"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Common Causes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Slow database query"}),"\n",(0,s.jsx)(n.li,{children:"Backend processing timeout"}),"\n",(0,s.jsx)(n.li,{children:"Network congestion"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "GatewayTimeout",\n  "message": "Backend request timed out",\n  "code": "GATEWAY_TIMEOUT",\n  "status": 504,\n  "timeout": 30000\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Resolution"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Optimize query (reduce filters, limit results)"}),"\n",(0,s.jsx)(n.li,{children:"Use pagination for large datasets"}),"\n",(0,s.jsx)(n.li,{children:"Implement client-side timeout handling"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"application-error-codes",children:"Application Error Codes"}),"\n",(0,s.jsx)(n.h3,{id:"authentication-errors",children:"Authentication Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TOKEN_MISSING"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"No Authorization header"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TOKEN_EXPIRED"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"JWT token expired"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TOKEN_INVALID"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"Invalid token signature"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TOKEN_MALFORMED"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"Token format incorrect"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"REFRESH_TOKEN_INVALID"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"Refresh token invalid"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"authorization-errors",children:"Authorization Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"INSUFFICIENT_PERMISSIONS"}),(0,s.jsx)(n.td,{children:"403"}),(0,s.jsx)(n.td,{children:"Missing required grant"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CONTEXT_MISMATCH"}),(0,s.jsx)(n.td,{children:"403"}),(0,s.jsx)(n.td,{children:"Source/centro_dett mismatch"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PESO_INSUFFICIENT"}),(0,s.jsx)(n.td,{children:"403"}),(0,s.jsx)(n.td,{children:"User peso too low"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DIMENSION_ACCESS_DENIED"}),(0,s.jsx)(n.td,{children:"403"}),(0,s.jsx)(n.td,{children:"No access to dimension"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"validation-errors",children:"Validation Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"REQUIRED_FIELD_MISSING"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Required field not provided"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"FIELD_NOT_ALLOWED_ON_CREATE"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Field missing 'N' flag"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"FIELD_NOT_MODIFIABLE"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Field missing 'M' flag"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"FIELD_NOT_SEARCHABLE"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Field missing 'R' flag"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DATA_TYPE_MISMATCH"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Wrong data type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"UNIQUE_CONSTRAINT_VIOLATION"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Duplicate unique value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"FOREIGN_KEY_VIOLATION"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Referenced record not found"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"INVALID_ENUM_VALUE"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Value not in allowed list"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"VALUE_OUT_OF_RANGE"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Number outside min/max"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"STRING_TOO_LONG"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Exceeds max length"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"REGEX_VALIDATION_FAILED"}),(0,s.jsx)(n.td,{children:"422"}),(0,s.jsx)(n.td,{children:"Doesn't match pattern"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"resource-errors",children:"Resource Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DIMENSION_NOT_FOUND"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"Dimension not in TB_DIM"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"RECORD_NOT_FOUND"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"Record ID not found"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"FIELD_NOT_FOUND"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"Field not in TB_VAR/TB_COST"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"RELATION_NOT_FOUND"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"$expand relation not found"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"rate-limiting-errors",children:"Rate Limiting Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"RATE_LIMIT_EXCEEDED"}),(0,s.jsx)(n.td,{children:"429"}),(0,s.jsx)(n.td,{children:"Too many requests"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"QUOTA_EXCEEDED"}),(0,s.jsx)(n.td,{children:"429"}),(0,s.jsx)(n.td,{children:"Monthly quota exceeded"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"server-errors",children:"Server Errors"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Status"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"INTERNAL_ERROR"}),(0,s.jsx)(n.td,{children:"500"}),(0,s.jsx)(n.td,{children:"Unexpected server error"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DATABASE_ERROR"}),(0,s.jsx)(n.td,{children:"500"}),(0,s.jsx)(n.td,{children:"Database operation failed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BACKEND_UNAVAILABLE"}),(0,s.jsx)(n.td,{children:"502"}),(0,s.jsx)(n.td,{children:"Backend service down"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"SERVICE_UNAVAILABLE"}),(0,s.jsx)(n.td,{children:"503"}),(0,s.jsx)(n.td,{children:"Maintenance mode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GATEWAY_TIMEOUT"}),(0,s.jsx)(n.td,{children:"504"}),(0,s.jsx)(n.td,{children:"Backend timeout"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-guide",children:"Troubleshooting Guide"}),"\n",(0,s.jsx)(n.h3,{id:"checklist-for-401-errors",children:"Checklist for 401 Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check Authorization header"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'console.log(headers.Authorization); // "Bearer eyJ..."\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify token not expired"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const payload = JSON.parse(atob(token.split('.')[1]));\nconsole.log(payload.exp > Date.now() / 1000); // Should be true\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Refresh token if expired"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (error.code === 'TOKEN_EXPIRED') {\n  const newToken = await refreshAccessToken();\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"checklist-for-403-errors",children:"Checklist for 403 Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check user grants"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const hasGrant = user.grants.includes('products.write');\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify context"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"console.log(session.source);       // Should match tenant\nconsole.log(session.centro_dett);  // Should match org unit\nconsole.log(session.peso);         // Should be sufficient\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check COD_ON_OFF"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const canCreate = field.COD_ON_OFF.includes('N');\nconst canModify = field.COD_ON_OFF.includes('M');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"checklist-for-422-errors",children:"Checklist for 422 Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate required fields"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const required = fields.filter(f => f.REQUIRED);\nconst missing = required.filter(f => !data[f.COD_VAR]);\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check COD_ON_OFF flags"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// For POST\nconst allowedOnCreate = fields.filter(f => f.COD_ON_OFF.includes('N'));\n\n// For PUT/PATCH\nconst allowedOnUpdate = fields.filter(f => f.COD_ON_OFF.includes('M'));\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate data types"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (field.DATA_TYPE === 'DECIMAL') {\n  value = parseFloat(value);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"checklist-for-429-errors",children:"Checklist for 429 Errors"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check rate limit headers"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"console.log(response.headers.get('X-RateLimit-Remaining'));\nconsole.log(response.headers.get('X-RateLimit-Reset'));\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implement retry logic"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (response.status === 429) {\n  const retryAfter = response.headers.get('Retry-After');\n  await sleep(retryAfter * 1000);\n  return retry();\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Structured error responses"})," with error type, code, and message"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"HTTP status codes"})," follow REST conventions"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Application-specific codes"})," for detailed error categorization"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Actionable messages"})," for quick troubleshooting"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Field-level errors"})," for validation failures"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Most Common Errors:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"401 TOKEN_EXPIRED - Refresh token"}),"\n",(0,s.jsx)(n.li,{children:"403 INSUFFICIENT_PERMISSIONS - Check grants"}),"\n",(0,s.jsx)(n.li,{children:"404 RECORD_NOT_FOUND - Verify ID"}),"\n",(0,s.jsx)(n.li,{children:"422 REQUIRED_FIELD_MISSING - Include all required fields"}),"\n",(0,s.jsx)(n.li,{children:"422 FIELD_NOT_MODIFIABLE - Check COD_ON_OFF"}),"\n",(0,s.jsx)(n.li,{children:"429 RATE_LIMIT_EXCEEDED - Implement retry logic"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Error Handling Best Practices:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Always include Authorization header"}),"\n",(0,s.jsx)(n.li,{children:"Refresh tokens before expiration"}),"\n",(0,s.jsx)(n.li,{children:"Check user grants before operations"}),"\n",(0,s.jsx)(n.li,{children:"Validate COD_ON_OFF before field access"}),"\n",(0,s.jsx)(n.li,{children:"Implement exponential backoff for rate limits"}),"\n",(0,s.jsx)(n.li,{children:"Log request_id for server errors"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/reference/api-endpoints",children:"API Endpoints"})," - Endpoint reference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/best-practices/troubleshooting",children:"Troubleshooting"})," - Common issues"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/security/",children:"Security"})," - Authentication and authorization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/products/map.q01.io/core-api-platform-v4/write-patterns/validation",children:"Validation"})," - Validation rules"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},2172:(e,n,r)=>{r.d(n,{I:()=>t,M:()=>d});var s=r(1504);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);